/* kdocker-web v0.1.14-2 2014-09-16
 * http://tsaikd.github.io/kdocker-web/
 * License: LGPLv3
 */

!function(t,e,n,r,s,a,i){t.GoogleAnalyticsObject=s,t[s]=t[s]||function(){(t[s].q=t[s].q||[]).push(arguments)},t[s].l=1*new Date,a=e.createElement(n),i=e.getElementsByTagName(n)[0],a.async=1,a.src=r,i.parentNode.insertBefore(a,i)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-151772-8","tsaikd.org"),ga("require","displayfeatures"),ga("require","linkid","linkid.js"),ga("send","pageview"),function(t,e,n){"use strict";e.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var t="$$ngAnimateChildren";return function(n,r,s){var a=s.ngAnimateChildren;e.isString(a)&&0===a.length?r.data(t,!0):n.$watch(a,function(e){r.data(t,!!e)})}}).factory("$$animateReflow",["$$rAF","$document",function(t,e){var n=e[0].body;return function(e){return t(function(){n.offsetWidth+1;e()})}}]).config(["$provide","$animateProvider",function(r,s){function a(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==d)return n}}function i(t){return t&&e.element(t)}function o(t){return e.element(a(t))}function c(t,e){return a(t)==a(e)}var l=e.noop,h=e.forEach,u=s.$$selectors,d=1,p="$$ngAnimateState",f="$$ngAnimateChildren",g="ng-animate",m={running:!0};r.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document",function(t,n,r,d,y,v){function b(t){var e=t.data(p)||{};e.running=!0,t.data(p,e)}function k(t){if(t){var e=[],s={},a=t.substr(1).split(".");(r.transitions||r.animations)&&e.push(n.get(u[""]));for(var i=0;i<a.length;i++){var o=a[i],c=u[o];c&&!s[o]&&(e.push(n.get(c)),s[o]=!0)}return e}}function C(t,n,r){function s(t,e){var n=t[e],r=t["before"+e.charAt(0).toUpperCase()+e.substr(1)];return n||r?("leave"==e&&(r=n,n=null),C.push({event:e,fn:n}),y.push({event:e,fn:r}),!0):void 0}function a(e,n,s){function a(t){if(n){if((n[t]||l)(),++u<i.length)return;n=null}s()}var i=[];h(e,function(t){t.fn&&i.push(t)});var u=0;h(i,function(e,s){var i=function(){a(s)};switch(e.event){case"setClass":n.push(e.fn(t,o,c,i));break;case"addClass":n.push(e.fn(t,o||r,i));break;case"removeClass":n.push(e.fn(t,c||r,i));break;default:n.push(e.fn(t,i))}}),n&&0===n.length&&s()}var i=t[0];if(i){var o,c,u="setClass"==n,d=u||"addClass"==n||"removeClass"==n;e.isArray(r)&&(o=r[0],c=r[1],r=o+" "+c);var p=t.attr("class"),f=p+" "+r;if(M(f)){var g=l,m=[],y=[],v=l,b=[],C=[],x=(" "+f).replace(/\s+/g,".");return h(k(x),function(t){var e=s(t,n);!e&&u&&(s(t,"addClass"),s(t,"removeClass"))}),{node:i,event:n,className:r,isClassBased:d,isSetClassOperation:u,before:function(t){g=t,a(y,m,function(){g=l,t()})},after:function(t){v=t,a(C,b,function(){v=l,t()})},cancel:function(){m&&(h(m,function(t){(t||l)(!0)}),g(!0)),b&&(h(b,function(t){(t||l)(!0)}),v(!0))}}}}}function x(t,n,r,s,a,i,o){function c(e){var s="$animate:"+e;b&&b[s]&&b[s].length>0&&y(function(){r.triggerHandler(s,{event:t,className:n})})}function l(){c("before")}function u(){c("after")}function d(){c("close"),o&&y(function(){o()})}function f(){f.hasBeenRun||(f.hasBeenRun=!0,i())}function m(){if(!m.hasBeenRun){m.hasBeenRun=!0;var e=r.data(p);e&&(v&&v.isClassBased?D(r,n):(y(function(){var e=r.data(p)||{};T==e.index&&D(r,n,t)}),r.data(p,e))),d()}}var v=C(r,t,n);if(!v)return f(),l(),u(),void m();n=v.className;var b=e.element._data(v.node);b=b&&b.events,s||(s=a?a.parent():r.parent());var k,x=r.data(p)||{},w=x.active||{},$=x.totalActive||0,M=x.last;if(v.isClassBased&&(k=x.running||x.disabled||M&&!M.isClassBased),k||S(r,s))return f(),l(),u(),void m();var P=!1;if($>0){var A=[];if(v.isClassBased){if("setClass"==M.event)A.push(M),D(r,n);else if(w[n]){var L=w[n];L.event==t?P=!0:(A.push(L),D(r,n))}}else if("leave"==t&&w["ng-leave"])P=!0;else{for(var E in w)A.push(w[E]),D(r,E);w={},$=0}A.length>0&&h(A,function(t){t.cancel()})}if(!v.isClassBased||v.isSetClassOperation||P||(P="addClass"==t==r.hasClass(n)),P)return f(),l(),u(),void d();"leave"==t&&r.one("$destroy",function(){var t=e.element(this),n=t.data(p);if(n){var r=n.active["ng-leave"];r&&(r.cancel(),D(t,"ng-leave"))}}),r.addClass(g);var T=I++;$++,w[n]=v,r.data(p,{last:v,active:w,index:T,totalActive:$}),l(),v.before(function(e){var s=r.data(p);e=e||!s||!s.active[n]||v.isClassBased&&s.active[n].event!=t,f(),e===!0?m():(u(),v.after(m))})}function w(t){var n=a(t);if(n){var r=e.isFunction(n.getElementsByClassName)?n.getElementsByClassName(g):n.querySelectorAll("."+g);h(r,function(t){t=e.element(t);var n=t.data(p);n&&n.active&&h(n.active,function(t){t.cancel()})})}}function D(t,e){if(c(t,d))m.disabled||(m.running=!1,m.structural=!1);else if(e){var n=t.data(p)||{},r=e===!0;!r&&n.active&&n.active[e]&&(n.totalActive--,delete n.active[e]),(r||!n.totalActive)&&(t.removeClass(g),t.removeData(p))}}function S(t,n){if(m.disabled)return!0;if(c(t,d))return m.running;var r,s,a;do{if(0===n.length)break;var i=c(n,d),o=i?m:n.data(p)||{};if(o.disabled)return!0;if(i&&(a=!0),r!==!1){var l=n.data(f);e.isDefined(l)&&(r=l)}s=s||o.running||o.last&&!o.last.isClassBased}while(n=n.parent());return!a||!r&&s}var I=0;d.data(p,m),v.$$postDigest(function(){v.$$postDigest(function(){m.running=!1})});var $=s.classNameFilter(),M=$?function(t){return $.test(t)}:function(){return!0};return{enter:function(n,r,s,a){n=e.element(n),r=i(r),s=i(s),b(n),t.enter(n,r,s),v.$$postDigest(function(){n=o(n),x("enter","ng-enter",n,r,s,l,a)})},leave:function(n,r){n=e.element(n),w(n),b(n),v.$$postDigest(function(){x("leave","ng-leave",o(n),null,null,function(){t.leave(n)},r)})},move:function(n,r,s,a){n=e.element(n),r=i(r),s=i(s),w(n),b(n),t.move(n,r,s),v.$$postDigest(function(){n=o(n),x("move","ng-move",n,r,s,l,a)})},addClass:function(n,r,s){n=e.element(n),n=o(n),x("addClass",r,n,null,null,function(){t.addClass(n,r)},s)},removeClass:function(n,r,s){n=e.element(n),n=o(n),x("removeClass",r,n,null,null,function(){t.removeClass(n,r)},s)},setClass:function(n,r,s,a){n=e.element(n),n=o(n),x("setClass",[r,s],n,null,null,function(){t.setClass(n,r,s)},a)},enabled:function(t,e){switch(arguments.length){case 2:if(t)D(e);else{var n=e.data(p)||{};n.disabled=!0,e.data(p,n)}break;case 1:m.disabled=!t;break;default:t=!m.disabled}return!!t}}}]),s.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,s,i,o){function c(t,e){R&&R(),W.push(e),R=o(function(){h(W,function(t){t()}),W=[],R=null,G={}})}function u(t,n){var r=a(t);t=e.element(r),Y.push(t);var s=Date.now()+n;X>=s||(i.cancel(J),X=s,J=i(function(){p(Y),Y=[]},n,!1))}function p(t){h(t,function(t){var e=t.data(K);e&&(e.closeAnimationFn||l)()})}function f(t,e){var n=e?G[e]:null;if(!n){var s,a,i,o,c=0,l=0,u=0,p=0;h(t,function(t){if(t.nodeType==d){var e=r.getComputedStyle(t)||{};i=e[A+O],c=Math.max(g(i),c),o=e[A+_],s=e[A+B],l=Math.max(g(s),l),a=e[E+B],p=Math.max(g(a),p);var n=g(e[E+O]);n>0&&(n*=parseInt(e[E+N],10)||1),u=Math.max(n,u)}}),n={total:0,transitionPropertyStyle:o,transitionDurationStyle:i,transitionDelayStyle:s,transitionDelay:l,transitionDuration:c,animationDelayStyle:a,animationDelay:p,animationDuration:u},e&&(G[e]=n)}return n}function g(t){var n=0,r=e.isString(t)?t.split(/\s*,\s*/):[];return h(r,function(t){n=Math.max(parseFloat(t)||0,n)}),n}function m(t){var e=t.parent(),n=e.data(F);return n||(e.data(F,++z),n=z),n+"-"+a(t).getAttribute("class")}function y(t,e,n,r){var s=m(e),a=s+" "+n,i=G[a]?++G[a].total:0,o={};if(i>0){var c=n+"-stagger",h=s+" "+c,u=!G[h];u&&e.addClass(c),o=f(e,h),u&&e.removeClass(c)}r=r||function(t){return t()},e.addClass(n);var d=e.data(K)||{},p=r(function(){return f(e,a)}),g=p.transitionDuration,y=p.animationDuration;if(0===g&&0===y)return e.removeClass(n),!1;e.data(K,{running:d.running||0,itemIndex:i,stagger:o,timings:p,closeAnimationFn:l});var v=d.running>0||"setClass"==t;return g>0&&b(e,n,v),y>0&&o.animationDelay>0&&0===o.animationDuration&&k(e),!0}function v(t){return"ng-enter"==t||"ng-move"==t||"ng-leave"==t}function b(t,e,n){v(e)||!n?a(t).style[A+_]="none":t.addClass(U)}function k(t){a(t).style[E]="none 0s"}function C(t){var e=A+_,n=a(t);n.style[e]&&n.style[e].length>0&&(n.style[e]=""),t.removeClass(U)}function x(t){var e=E,n=a(t);n.style[e]&&n.style[e].length>0&&(n.style[e]="")}function w(t,e,n,r){function s(){e.off(b,i),e.removeClass(l),M(e,n);var t=a(e);for(var r in C)t.style.removeProperty(C[r])}function i(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),s=parseFloat(e.elapsedTime.toFixed(j));Math.max(n-v,0)>=y&&s>=g&&r()}var o=a(e),c=e.data(K);if(-1==o.getAttribute("class").indexOf(n)||!c)return void r();var l="";h(n.split(" "),function(t,e){l+=(e>0?" ":"")+t+"-active"});var d=c.stagger,p=c.timings,f=c.itemIndex,g=Math.max(p.transitionDuration,p.animationDuration),m=Math.max(p.transitionDelay,p.animationDelay),y=m*q,v=Date.now(),b=T+" "+L,k="",C=[];if(p.transitionDuration>0){var x=p.transitionPropertyStyle;-1==x.indexOf("all")&&(k+=H+"transition-property: "+x+";",k+=H+"transition-duration: "+p.transitionDurationStyle+";",C.push(H+"transition-property"),C.push(H+"transition-duration"))}if(f>0){if(d.transitionDelay>0&&0===d.transitionDuration){var w=p.transitionDelayStyle;k+=H+"transition-delay: "+D(w,d.transitionDelay,f)+"; ",C.push(H+"transition-delay")}d.animationDelay>0&&0===d.animationDuration&&(k+=H+"animation-delay: "+D(p.animationDelayStyle,d.animationDelay,f)+"; ",C.push(H+"animation-delay"))}if(C.length>0){var S=o.getAttribute("style")||"";o.setAttribute("style",S+"; "+k)}e.on(b,i),e.addClass(l),c.closeAnimationFn=function(){s(),r()};var I=f*(Math.max(d.animationDelay,d.transitionDelay)||0),$=(m+g)*V,P=(I+$)*q;return c.running++,u(e,P),s}function D(t,e,n){var r="";return h(t.split(","),function(t,s){r+=(s>0?",":"")+(n*e+parseInt(t,10))+"s"}),r}function S(t,e,n,r){return y(t,e,n,r)?function(t){t&&M(e,n)}:void 0}function I(t,e,n,r){return e.data(K)?w(t,e,n,r):(M(e,n),void r())}function $(t,e,n,r){var s=S(t,e,n);if(!s)return void r();var a=s;return c(e,function(){C(e,n),x(e),a=I(t,e,n,r)}),function(t){(a||l)(t)}}function M(t,e){t.removeClass(e);var n=t.data(K);n&&(n.running&&n.running--,n.running&&0!==n.running||t.removeData(K))}function P(t,n){var r="";return t=e.isArray(t)?t:t.split(/\s+/),h(t,function(t,e){t&&t.length>0&&(r+=(e>0?" ":"")+t+n)}),r}var A,L,E,T,H="";t.ontransitionend===n&&t.onwebkittransitionend!==n?(H="-webkit-",A="WebkitTransition",L="webkitTransitionEnd transitionend"):(A="transition",L="transitionend"),t.onanimationend===n&&t.onwebkitanimationend!==n?(H="-webkit-",E="WebkitAnimation",T="webkitAnimationEnd animationend"):(E="animation",T="animationend");var R,O="Duration",_="Property",B="Delay",N="IterationCount",F="$$ngAnimateKey",K="$$ngAnimateCSS3Data",U="ng-animate-block-transitions",j=3,V=1.5,q=1e3,G={},z=0,W=[],J=null,X=0,Y=[];return{enter:function(t,e){return $("enter",t,"ng-enter",e)},leave:function(t,e){return $("leave",t,"ng-leave",e)},move:function(t,e){return $("move",t,"ng-move",e)},beforeSetClass:function(t,e,n,r){var s=P(n,"-remove")+" "+P(e,"-add"),a=S("setClass",t,s,function(r){var s=t.attr("class");t.removeClass(n),t.addClass(e);var a=r();return t.attr("class",s),a});return a?(c(t,function(){C(t,s),x(t),r()}),a):void r()},beforeAddClass:function(t,e,n){var r=S("addClass",t,P(e,"-add"),function(n){t.addClass(e);var r=n();return t.removeClass(e),r});return r?(c(t,function(){C(t,e),x(t),n()}),r):void n()},setClass:function(t,e,n,r){n=P(n,"-remove"),e=P(e,"-add");var s=n+" "+e;return I("setClass",t,s,r)},addClass:function(t,e,n){return I("addClass",t,P(e,"-add"),n)},beforeRemoveClass:function(t,e,n){var r=S("removeClass",t,P(e,"-remove"),function(n){var r=t.attr("class");t.removeClass(e);var s=n();return t.attr("class",r),s});return r?(c(t,function(){C(t,e),x(t),n()}),r):void n()},removeClass:function(t,e,n){return I("removeClass",t,P(e,"-remove"),n)}}}])}])}(window,window.angular),function(){"use strict";var t=angular.module("LocalStorageModule",[]);t.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(t){this.prefix=t},this.setStorageType=function(t){this.storageType=t},this.setStorageCookie=function(t,e){this.cookie={expiry:t,path:e}},this.setStorageCookieDomain=function(t){this.cookie.domain=t},this.setNotify=function(t,e){this.notify={setItem:t,removeItem:e}},this.$get=["$rootScope","$window","$document",function(t,e,n){var r,s=this,a=s.prefix,i=s.cookie,o=s.notify,c=s.storageType;n?n[0]&&(n=n[0]):n=document,"."!==a.substr(-1)&&(a=a?a+".":"");var l=function(t){return a+t},h=function(){try{var n=c in e&&null!==e[c],s=l("__"+Math.round(1e7*Math.random()));return n&&(r=e[c],r.setItem(s,""),r.removeItem(s)),n}catch(a){return c="cookie",t.$broadcast("LocalStorageModule.notification.error",a.message),!1}}(),u=function(e,n){if(!h||"cookie"===s.storageType)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),o.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:"cookie"}),y(e,n);"undefined"==typeof n&&(n=null);try{(angular.isObject(n)||angular.isArray(n))&&(n=angular.toJson(n)),r&&r.setItem(l(e),n),o.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:s.storageType})}catch(a){return t.$broadcast("LocalStorageModule.notification.error",a.message),y(e,n)}return!0},d=function(e){if(!h||"cookie"===s.storageType)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),v(e);var n=r?r.getItem(l(e)):null;return n&&"null"!==n?"{"===n.charAt(0)||"["===n.charAt(0)?angular.fromJson(n):n:null},p=function(e){if(!h)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),o.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:e,storageType:"cookie"}),b(e);try{r.removeItem(l(e)),o.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:e,storageType:s.storageType})}catch(n){return t.$broadcast("LocalStorageModule.notification.error",n.message),b(e)}return!0},f=function(){if(!h)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var e=a.length,n=[];for(var s in r)if(s.substr(0,e)===a)try{n.push(s.substr(e))}catch(i){return t.$broadcast("LocalStorageModule.notification.error",i.Description),[]}return n},g=function(e){e=e||"";var n=a.slice(0,-1),s=new RegExp(n+"."+e);if(!h)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),k();var i=a.length;for(var o in r)if(s.test(o))try{p(o.substr(i))}catch(c){return t.$broadcast("LocalStorageModule.notification.error",c.message),k()}return!0},m=function(){try{return navigator.cookieEnabled||"cookie"in n&&(n.cookie.length>0||(n.cookie="test").indexOf.call(n.cookie,"test")>-1)}catch(e){return t.$broadcast("LocalStorageModule.notification.error",e.message),!1}},y=function(e,r){if("undefined"==typeof r)return!1;if(!m())return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var s="",a=new Date,o="";if(null===r?(a.setTime(a.getTime()+-864e5),s="; expires="+a.toGMTString(),r=""):0!==i.expiry&&(a.setTime(a.getTime()+24*i.expiry*60*60*1e3),s="; expires="+a.toGMTString()),e){var c="; path="+i.path;i.domain&&(o="; domain="+i.domain),n.cookie=l(e)+"="+encodeURIComponent(r)+s+c+o}}catch(h){return t.$broadcast("LocalStorageModule.notification.error",h.message),!1}return!0},v=function(e){if(!m())return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var r=n.cookie&&n.cookie.split(";")||[],s=0;s<r.length;s++){for(var i=r[s];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(l(e)+"="))return decodeURIComponent(i.substring(a.length+e.length+1,i.length))}return null},b=function(t){y(t,null)},k=function(){for(var t=null,e=a.length,r=n.cookie.split(";"),s=0;s<r.length;s++){for(t=r[s];" "===t.charAt(0);)t=t.substring(1,t.length);var i=t.substring(e,t.indexOf("="));b(i)}},C=function(){return c},x=function(t,e,n){var r=d(e);null===r&&angular.isDefined(n)?r=n:angular.isObject(r)&&angular.isObject(n)&&(r=angular.extend(n,r)),t[e]=r,t.$watchCollection(e,function(t){u(e,t)})};return{isSupported:h,getStorageType:C,set:u,add:u,get:d,keys:f,remove:p,clearAll:g,bind:x,deriveKey:l,cookie:{set:y,add:y,get:v,remove:b,clearAll:k}}}]})}.call(this),angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(t){var e=t.storageKey(),n=t.storage();n?n.get(e)?t.use(n.get(e)):angular.isString(t.preferredLanguage())?t.use(t.preferredLanguage()):n.set(e,t.use()):angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(t){var e,n,r,s,a,i,o,c,l,h,u,d,p,f,g={},m=[],y=t,v=[],b=!1,k="translate-cloak",C=!1,x=".",w=function(){var t=window.navigator;return(t.language||t.browserLanguage||t.systemLanguage||t.userLanguage||"").split("-").join("_")},D=function(t){for(var e=[],r=angular.lowercase(t),s=0,a=m.length;a>s;s++)e.push(angular.lowercase(m[s]));if(e.indexOf(r)>-1)return t;if(n){var i;for(var o in n){var c=!1,l=n.hasOwnProperty(o)&&angular.lowercase(o)===angular.lowercase(t);if("*"===o.slice(-1)&&(c=o.slice(0,-1)===t.slice(0,o.length-1)),(l||c)&&(i=n[o],e.indexOf(angular.lowercase(i))>-1))return i}}var h=t.split("_");return h.length>1&&e.indexOf(angular.lowercase(h[0]))>-1?h[0]:t},S=function(t,e){if(!t&&!e)return g;if(t&&!e){if(angular.isString(t))return g[t]}else angular.isObject(g[t])||(g[t]={}),angular.extend(g[t],I(e));return this};this.translations=S,this.cloakClassName=function(t){return t?(k=t,this):k};var I=function(t,e,n,r){var s,a,i,o;e||(e=[]),n||(n={});for(s in t)t.hasOwnProperty(s)&&(o=t[s],angular.isObject(o)?I(o,e.concat(s),n,s):(a=e.length?""+e.join(x)+x+s:s,e.length&&s===r&&(i=""+e.join(x),n[i]="@:"+a),n[a]=o));return n};this.addInterpolation=function(t){return v.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return h=t,this},this.useSanitizeValueStrategy=function(t){return b=t,this},this.preferredLanguage=function(t){return t?(e=t,this):e},this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(p=t,this):p},this.translationNotFoundIndicatorRight=function(t){return t?(f=t,this):f},this.fallbackLanguage=function(t){return $(t),this};var $=function(t){return t?(angular.isString(t)?(s=!0,r=[t]):angular.isArray(t)&&(s=!1,r=t),angular.isString(e)&&r.push(e),this):s?r[0]:r};this.use=function(t){if(t){if(!g[t]&&!u)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return a=t,this}return a};var M=function(t){return t?void(y=t):c?c+y:y};this.storageKey=M,this.useUrlLoader=function(t){return this.useLoader("$translateUrlLoader",{url:t})},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return u=t,d=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return o=t,this},this.storagePrefix=function(t){return t?(c=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return l=t,this},this.usePostCompiling=function(t){return C=!!t,this},this.determinePreferredLanguage=function(t){var n=t&&angular.isFunction(t)?t():w();return e=m.length?D(n):n,this},this.registerAvailableLanguageKeys=function(t,e){return t?(m=t,e&&(n=e),this):m},this.$get=["$log","$injector","$rootScope","$q",function(t,n,c,m){var x,w,P,A=n.get(h||"$translateDefaultInterpolation"),L=!1,E={},T={},H=function(t,n,s){if(angular.isArray(t)){var i=function(t){for(var e={},r=[],a=function(t){var r=m.defer(),a=function(n){e[t]=n,r.resolve([t,n])};return H(t,n,s).then(a,a),r.promise},i=0,o=t.length;o>i;i++)r.push(a(t[i]));return m.all(r).then(function(){return e})};return i(t)}var c=m.defer();t&&(t=t.trim());var l=function(){var t=e?T[e]:T[a];if(w=0,o&&!t){var n=x.get(y);if(t=T[n],r&&r.length){var s=R(r,n);w=s>-1?s+=1:0,r.push(e)}}return t}();return l?l.then(function(){G(t,n,s).then(c.resolve,c.reject)},c.reject):G(t,n,s).then(c.resolve,c.reject),c.promise},R=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},O=function(t){return p&&(t=[p,t].join(" ")),f&&(t=[t,f].join(" ")),t},_=function(t){a=t,c.$emit("$translateChangeSuccess"),o&&x.set(H.storageKey(),a),A.setLocale(a),angular.forEach(E,function(t,e){E[e].setLocale(a)}),c.$emit("$translateChangeEnd")},B=function(t){if(!t)throw"No language key specified for loading.";var e=m.defer();return c.$emit("$translateLoadingStart"),L=!0,n.get(u)(angular.extend(d,{key:t})).then(function(n){var r={};c.$emit("$translateLoadingSuccess"),angular.isArray(n)?angular.forEach(n,function(t){angular.extend(r,I(t))}):angular.extend(r,I(n)),L=!1,e.resolve({key:t,table:r}),c.$emit("$translateLoadingEnd")},function(t){c.$emit("$translateLoadingError"),e.reject(t),c.$emit("$translateLoadingEnd")}),e.promise};if(o&&(x=n.get(o),!x.get||!x.set))throw new Error("Couldn't use storage '"+o+"', missing get() or set() method!");angular.isFunction(A.useSanitizeValueStrategy)&&A.useSanitizeValueStrategy(b),v.length&&angular.forEach(v,function(t){var r=n.get(t);r.setLocale(e||a),angular.isFunction(r.useSanitizeValueStrategy)&&r.useSanitizeValueStrategy(b),E[r.getInterpolationIdentifier()]=r});var N=function(t){var e=m.defer();return g.hasOwnProperty(t)?(e.resolve(g[t]),e.promise):(T[t].then(function(t){S(t.key,t.table),e.resolve(t.table)},e.reject),e.promise)},F=function(t,e,n,r){var s=m.defer();return N(t).then(function(i){i.hasOwnProperty(e)?(r.setLocale(t),s.resolve(r.interpolate(i[e],n)),r.setLocale(a)):s.reject()},s.reject),s.promise},K=function(t,e,n,r){var s,i=g[t];return i.hasOwnProperty(e)&&(r.setLocale(t),s=r.interpolate(i[e],n),r.setLocale(a)),s},U=function(t,e,s,i){var o=m.defer();if(t<r.length){var c=r[t];F(c,e,s,i).then(function(t){o.resolve(t)},function(){var n=U(t+1,e,s,i);o.resolve(n)})}else if(l){var h=n.get(l)(e,a);o.resolve(void 0!==h?h:e)}else o.resolve(e);return o.promise},j=function(t,e,n,s){var a;if(t<r.length){var i=r[t];a=K(i,e,n,s),a||(a=j(t+1,e,n,s))}return a},V=function(t,e,n){return U(P>0?P:w,t,e,n)},q=function(t,e,n){return j(P>0?P:w,t,e,n)},G=function(t,e,s){var i=m.defer(),o=a?g[a]:g,c=s?E[s]:A;if(o&&o.hasOwnProperty(t)){var h=o[t];"@:"===h.substr(0,2)?H(h.substr(2),e,s).then(i.resolve,i.reject):i.resolve(c.interpolate(h,e))}else l&&!L&&n.get(l)(t,a),a&&r&&r.length?V(t,e,c).then(function(t){i.resolve(t)},function(t){i.reject(O(t))}):i.reject(O(t));return i.promise},z=function(t,e,s){var i,o=a?g[a]:g,c=s?E[s]:A;if(o&&o.hasOwnProperty(t)){var h=o[t];i="@:"===h.substr(0,2)?z(h.substr(2),e,s):c.interpolate(h,e)}else l&&!L&&n.get(l)(t,a),a&&r&&r.length?(w=0,i=q(t,e,c)):i=O(t);return i};if(H.preferredLanguage=function(){return e},H.cloakClassName=function(){return k},H.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if($(t),u&&r&&r.length)for(var e=0,n=r.length;n>e;e++)T[r[e]]||(T[r[e]]=B(r[e]));H.use(H.use())}return s?r[0]:r},H.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=R(r,t);e>-1&&(P=e)}else P=0},H.proposedLanguage=function(){return i},H.storage=function(){return x},H.use=function(t){if(!t)return a;var e=m.defer();c.$emit("$translateChangeStart");var n=D(t);return n&&(t=n),!g[t]&&u?(i=t,T[t]=B(t).then(function(n){S(n.key,n.table),e.resolve(n.key),i===t&&(_(n.key),i=void 0)},function(t){i=void 0,c.$emit("$translateChangeError"),e.reject(t),c.$emit("$translateChangeEnd")})):(e.resolve(t),_(t)),e.promise},H.storageKey=function(){return M()},H.isPostCompilingEnabled=function(){return C},H.refresh=function(t){function e(){s.resolve(),c.$emit("$translateRefreshEnd")}function n(){s.reject(),c.$emit("$translateRefreshEnd")}if(!u)throw new Error("Couldn't refresh translation table, no loader registered!");var s=m.defer();if(c.$emit("$translateRefreshStart"),t)g[t]?B(t).then(function(n){S(n.key,n.table),t===a&&_(a),e()},n):n();else{var i=[];if(r&&r.length)for(var o=0,l=r.length;l>o;o++)i.push(B(r[o]));a&&i.push(B(a)),m.all(i).then(function(t){angular.forEach(t,function(t){g[t.key]&&delete g[t.key],S(t.key,t.table)}),a&&_(a),e()})}return s.promise},H.instant=function(t,s,i){if(null===t||angular.isUndefined(t))return t;if(angular.isArray(t)){for(var o={},c=0,h=t.length;h>c;c++)o[t[c]]=H.instant(t[c],s,i);return o}if(angular.isString(t)&&t.length<1)return t;t&&(t=t.trim());var u,d=[];e&&d.push(e),a&&d.push(a),r&&r.length&&(d=d.concat(r));for(var p=0,f=d.length;f>p;p++){var m=d[p];if(g[m]&&"undefined"!=typeof g[m][t]&&(u=z(t,s,i)),"undefined"!=typeof u)break}return u||""===u||(u=t,l&&!L&&n.get(l)(t,a)),u},u&&(angular.equals(g,{})&&H.use(H.use()),r&&r.length))for(var W=0,J=r.length;J>W;W++)T[r[W]]=B(r[W]);return H}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(t){var e,n={},r="default",s=null,a={escaped:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=angular.element("<div></div>").text(t[n]).html());return e}},i=function(t){var e;return e=angular.isFunction(a[s])?a[s](t):t};return n.setLocale=function(t){e=t},n.getInterpolationIdentifier=function(){return r},n.useSanitizeValueStrategy=function(t){return s=t,this},n.interpolate=function(e,n){return s&&(n=i(n)),t(e)(n||{})},n}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(t,e,n,r,s,a){return{restrict:"AE",scope:!0,compile:function(e,i){var o=i.translateValues?i.translateValues:void 0,c=i.translateInterpolation?i.translateInterpolation:void 0,l=e[0].outerHTML.match(/translate-value-+/i);return function(e,h,u){if(e.interpolateParams={},u.$observe("translate",function(t){e.translationId=angular.equals(t,"")||!angular.isDefined(t)?n(h.text().replace(/^\s+|\s+$/g,""))(e.$parent):t}),u.$observe("translateDefault",function(t){e.defaultText=t}),o&&u.$observe("translateValues",function(t){t&&e.$parent.$watch(function(){angular.extend(e.interpolateParams,s(t)(e.$parent))})}),l){var d=function(t){u.$observe(t,function(n){e.interpolateParams[angular.lowercase(t.substr(14,1))+t.substr(15)]=n})};for(var p in u)u.hasOwnProperty(p)&&"translateValue"===p.substr(0,14)&&"translateValues"!==p&&d(p)}var f=function(e,n,s){s||"undefined"==typeof n.defaultText||(e=n.defaultText),h.html(e);var a=t.isPostCompilingEnabled(),o="undefined"!=typeof i.translateCompile,c=o&&"false"!==i.translateCompile;(a&&!o||c)&&r(h.contents())(n)},g=function(){return o||l?function(){var n=function(){e.translationId&&e.interpolateParams&&t(e.translationId,e.interpolateParams,c).then(function(t){f(t,e,!0)},function(t){f(t,e,!1)})};e.$watch("interpolateParams",n,!0),e.$watch("translationId",n)}:function(){var n=e.$watch("translationId",function(r){e.translationId&&r&&t(r,{},c).then(function(t){f(t,e,!0),n()},function(t){f(t,e,!1),n()})},!0)}}(),m=a.$on("$translateChangeSuccess",g);g(),e.$on("$destroy",m)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(t,e){return{compile:function(n){t.$on("$translateLoadingSuccess",function(){n.removeClass(e.cloakClassName())}),n.addClass(e.cloakClassName())}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(t,e){return function(n,r,s){return angular.isObject(r)||(r=t(r)(this)),e.instant(n,r,s)}}]),function(){"use strict";function t(){this._events=this._events||{}}function e(n){var r=this;if(!(this instanceof e))return new e(arguments[0],arguments[1],arguments[2]);r.cancel=e.cancel,t.call(this),"number"==typeof n&&(n={cols:arguments[0],rows:arguments[1],handler:arguments[2]}),n=n||{},Object.keys(e.defaults).forEach(function(t){null==n[t]&&(n[t]=e.options[t],e[t]!==e.defaults[t]&&(n[t]=e[t])),r[t]=n[t]}),8===n.colors.length?n.colors=n.colors.concat(e._colors.slice(8)):16===n.colors.length?n.colors=n.colors.concat(e._colors.slice(16)):10===n.colors.length?n.colors=n.colors.slice(0,-2).concat(e._colors.slice(8,-2),n.colors.slice(-2)):18===n.colors.length&&(n.colors=n.colors.concat(e._colors.slice(16,-2),n.colors.slice(-2))),this.colors=n.colors,this.options=n,this.parent=n.body||n.parent||(u?u.getElementsByTagName("body")[0]:null),this.cols=n.cols||n.geometry[0],this.rows=n.rows||n.geometry[1],n.handler&&this.on("data",n.handler),this.ybase=0,this.ydisp=0,this.x=0,this.y=0,this.cursorState=0,this.cursorHidden=!1,this.convertEol,this.state=0,this.queue="",this.scrollTop=0,this.scrollBottom=this.rows-1,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!1,this.normal=null,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.decLocator,this.x10Mouse,this.vt200Mouse,this.vt300Mouse,this.normalMouse,this.mouseEvents,this.sendFocus,this.utfMouse,this.sgrMouse,this.urxvtMouse,this.element,this.children,this.refreshStart,this.refreshEnd,this.savedX,this.savedY,this.savedCols,this.readable=!0,this.writable=!0,this.defAttr=131840,this.curAttr=this.defAttr,this.params=[],this.currentParam=0,this.prefix="",this.postfix="",this.lines=[];for(var s=this.rows;s--;)this.lines.push(this.blankLine());this.tabs,this.setupStops()}function n(t,e,n,r){Array.isArray(t)||(t=[t]),t.forEach(function(t){t.addEventListener(e,n,r||!1)})}function r(t,e,n,r){t.removeEventListener(e,n,r||!1)}function s(t,e){return this.cancelEvents||e?(t.preventDefault(),t.stopPropagation(),!1):void 0}function a(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function i(t){var e=t.getElementsByTagName("body")[0],n=t.createElement("span");n.innerHTML="hello world",e.appendChild(n);var r=n.scrollWidth;n.style.fontWeight="bold";var s=n.scrollWidth;return e.removeChild(n),r!==s}function o(t){return"＀">=t?!1:t>="！"&&"ﾾ">=t||t>="ￂ"&&"ￇ">=t||t>="ￊ"&&"ￏ">=t||t>="ￒ"&&"ￗ">=t||t>="ￚ"&&"ￜ">=t||t>="￠"&&"￦">=t||t>="￨"&&"￮">=t}function c(t,n,r){var s=t<<16|n<<8|r;if(null!=c._cache[s])return c._cache[s];for(var a,i,o,l,h,u=1/0,d=-1,p=0;p<e.vcolors.length;p++){if(a=e.vcolors[p],i=a[0],o=a[1],l=a[2],h=c.distance(t,n,r,i,o,l),0===h){d=p;break}u>h&&(u=h,d=p)}return c._cache[s]=d}function l(t,e,n){if(t.forEach)return t.forEach(e,n);for(var r=0;r<t.length;r++)e.call(n,t[r],r,t)}function h(t){if(Object.keys)return Object.keys(t);var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n}var u=this.document;t.prototype.addListener=function(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)},t.prototype.on=t.prototype.addListener,t.prototype.removeListener=function(t,e){if(this._events[t])for(var n=this._events[t],r=n.length;r--;)if(n[r]===e||n[r].listener===e)return void n.splice(r,1)},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(t){this._events[t]&&delete this._events[t]},t.prototype.once=function(t,e){function n(){var r=Array.prototype.slice.call(arguments);return this.removeListener(t,n),e.apply(this,r)}return n.listener=e,this.on(t,n)},t.prototype.emit=function(t){if(this._events[t])for(var e=Array.prototype.slice.call(arguments,1),n=this._events[t],r=n.length,s=0;r>s;s++)n[s].apply(this,e)},t.prototype.listeners=function(t){return this._events[t]=this._events[t]||[]};var d=0,p=1,f=2,g=3,m=4,y=5,v=6;a(e,t),e.prototype.eraseAttr=function(){return-512&this.defAttr|511&this.curAttr},e.tangoColors=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"],e.colors=function(){function t(t,e,r){s.push("#"+n(t)+n(e)+n(r))
}function n(t){return t=t.toString(16),t.length<2?"0"+t:t}var r,s=e.tangoColors.slice(),a=[0,95,135,175,215,255];for(r=0;216>r;r++)t(a[r/36%6|0],a[r/6%6|0],a[r%6]);for(r=0;24>r;r++)a=8+10*r,t(a,a,a);return s}(),e._colors=e.colors.slice(),e.vcolors=function(){for(var t,n=[],r=e.colors,s=0;256>s;s++)t=parseInt(r[s].substring(1),16),n.push([t>>16&255,t>>8&255,255&t]);return n}(),e.defaults={colors:e.colors,theme:"default",convertEol:!1,termName:"xterm",geometry:[80,24],cursorBlink:!1,visualBell:!1,popOnBell:!1,scrollback:1e3,screenKeys:!1,debug:!1,cancelEvents:!1},e.options={},l(h(e.defaults),function(t){e[t]=e.defaults[t],e.options[t]=e.defaults[t]}),e.prototype.focus=function(){u.activeElement!==this.textarea&&(this.sendFocus&&this.send("[I"),this.showCursor(),this.textarea.focus(),this.emit("focus",{terminal:this}))},e.prototype.blur=function(){e.focus===this&&(this.cursorState=0,this.refresh(this.y,this.y),this.sendFocus&&this.send("[O"),this.emit("blur",{terminal:this}))},e.prototype.initGlobal=function(){e.bindPaste(this),e.bindKeys(this),e.bindCopy(this)},e.bindPaste=function(t){n([t.textarea,t.element],"paste",function(e){if(e.stopPropagation(),e.clipboardData){var n=e.clipboardData.getData("text/plain");t.handler(n)}return t.textarea.value="",t.cancel(e)})},e.bindKeys=function(t){n(t.element,"keydown",function(e){u.activeElement==this&&t.keyDown(e)},!0),n(t.element,"keypress",function(e){u.activeElement==this&&t.keyPress(e)},!0),n(t.element,"keyup",t.focus.bind(t)),n(t.textarea,"keydown",function(e){t.keyDown(e)},!0),n(t.textarea,"keypress",function(e){t.keyPress(e),this.value=""},!0)},e.bindCopy=function(t){n(t.element,"copy",function(){})},e.prototype.insertRow=function(t){return"object"!=typeof t&&(t=u.createElement("div")),this.rowContainer.appendChild(t),this.children.push(t),t},e.prototype.open=function(t){var r=this,s=0;if(this.parent=t||this.parent,!this.parent)throw new Error("Terminal requires a parent element.");for(this.context=this.parent.ownerDocument.defaultView,this.document=this.parent.ownerDocument,this.body=this.document.getElementsByTagName("body")[0],this.context.navigator&&this.context.navigator.userAgent&&(this.isMac=!!~this.context.navigator.userAgent.indexOf("Mac"),this.isIpad=!!~this.context.navigator.userAgent.indexOf("iPad"),this.isIphone=!!~this.context.navigator.userAgent.indexOf("iPhone"),this.isMSIE=!!~this.context.navigator.userAgent.indexOf("MSIE")),this.element=this.document.createElement("div"),this.element.classList.add("terminal","xterm","xterm-theme-"+this.theme),this.element.setAttribute("tabindex",0),this.rowContainer=u.createElement("div"),this.rowContainer.classList.add("xterm-rows"),this.element.appendChild(this.rowContainer),this.children=[],this.helperContainer=u.createElement("div"),this.helperContainer.classList.add("xterm-helpers"),this.element.appendChild(this.helperContainer),this.textarea=u.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.helperContainer.appendChild(this.textarea);s<this.rows;s++)this.insertRow();this.parent.appendChild(this.element),this.refresh(0,this.rows-1),this.initGlobal(),this.focus(),this.startBlink(),n(this.element,"mouseup",function(){var t=u.getSelection();"Range"!=t.type&&r.focus()}),this.bindMouse(),null==e.brokenBold&&(e.brokenBold=i(this.document)),this.emit("open")},e.prototype.bindMouse=function(){function t(t){var e,n;if(e=i(t),n=o(t))switch(a(e,n),t.type){case"mousedown":h=e;break;case"mouseup":h=32;break;case u:}}function e(t){var e,n=h;e=o(t),e&&(n+=32,a(n,e))}function s(t,e){if(l.utfMouse){if(2047===e)return t.push(0);127>e?t.push(e):(e>2047&&(e=2047),t.push(192|e>>6),t.push(128|63&e))}else{if(255===e)return t.push(0);e>127&&(e=127),t.push(e)}}function a(t,e){if(l.vt300Mouse){t&=3,e.x-=32,e.y-=32;var n="[24";if(0===t)n+="1";else if(1===t)n+="3";else if(2===t)n+="5";else{if(3===t)return;n+="0"}return n+="~["+e.x+","+e.y+"]\r",void l.send(n)}if(l.decLocator)return t&=3,e.x-=32,e.y-=32,0===t?t=2:1===t?t=4:2===t?t=6:3===t&&(t=3),void l.send("["+t+";"+(3===t?4:0)+";"+e.y+";"+e.x+";"+(e.page||0)+"&w");if(l.urxvtMouse)return e.x-=32,e.y-=32,e.x++,e.y++,void l.send("["+t+";"+e.x+";"+e.y+"M");if(l.sgrMouse)return e.x-=32,e.y-=32,void l.send("[<"+(3===(3&t)?-4&t:t)+";"+e.x+";"+e.y+(3===(3&t)?"m":"M"));var n=[];s(n,t),s(n,e.x),s(n,e.y),l.send("[M"+b.fromCharCode.apply(b,n))}function i(t){var e,n,r,s,a;switch(t.type){case"mousedown":e=null!=t.button?+t.button:null!=t.which?t.which-1:null,l.isMSIE&&(e=1===e?0:4===e?1:e);break;case"mouseup":e=3;break;case"DOMMouseScroll":e=t.detail<0?64:65;break;case"mousewheel":e=t.wheelDeltaY>0?64:65}return n=t.shiftKey?4:0,r=t.metaKey?8:0,s=t.ctrlKey?16:0,a=n|r|s,l.vt200Mouse?a&=s:l.normalMouse||(a=0),e=32+(a<<2)+e}function o(t){var e,n,r,s,a;if(null!=t.pageX){for(e=t.pageX,n=t.pageY,a=l.element;a&&a!==l.document.documentElement;)e-=a.offsetLeft,n-=a.offsetTop,a="offsetParent"in a?a.offsetParent:a.parentNode;return r=l.element.clientWidth,s=l.element.clientHeight,e=Math.round(e/r*l.cols),n=Math.round(n/s*l.rows),0>e&&(e=0),e>l.cols&&(e=l.cols),0>n&&(n=0),n>l.rows&&(n=l.rows),e+=32,n+=32,{x:e,y:n,type:t.type===u?"mousewheel":t.type}}}var c=this.element,l=this,h=32,u="onmousewheel"in this.context?"mousewheel":"DOMMouseScroll";n(c,"mousedown",function(s){return l.mouseEvents?(t(s),l.focus(),l.vt200Mouse?(t({__proto__:s,type:"mouseup"}),l.cancel(s)):(l.normalMouse&&n(l.document,"mousemove",e),l.x10Mouse||n(l.document,"mouseup",function a(n){return t(n),l.normalMouse&&r(l.document,"mousemove",e),r(l.document,"mouseup",a),l.cancel(n)}),l.cancel(s))):void 0}),n(c,u,function(e){return l.mouseEvents&&!(l.x10Mouse||l.vt300Mouse||l.decLocator)?(t(e),l.cancel(e)):void 0}),n(c,u,function(t){return l.mouseEvents||l.applicationKeypad?void 0:(l.scrollDisp("DOMMouseScroll"===t.type?t.detail<0?-5:5:t.wheelDeltaY>0?-5:5),l.cancel(t))})},e.prototype.destroy=function(){this.readable=!1,this.writable=!1,this._events={},this.handler=function(){},this.write=function(){},this.element.parentNode&&this.element.parentNode.removeChild(this.element)},e.prototype.refresh=function(t,n){var r,s,a,i,c,l,h,d,p,f,g,m,y,v,b=u.activeElement;for(n-t>=this.rows/2&&(v=this.element.parentNode,v&&v.removeChild(this.element)),h=this.cols,s=t,n>=this.lines.length&&(this.log("`end` is too large. Most likely a bad CSR."),n=this.lines.length-1);n>=s;s++){for(y=s+this.ydisp,i=this.lines[y],c="",r=s===this.y&&this.cursorState&&this.ydisp===this.ybase&&!this.cursorHidden?this.x:-1,p=this.defAttr,a=0;h>a;a++){switch(d=i[a][0],l=i[a][1],a===r&&(d=-1),d!==p&&(p!==this.defAttr&&(c+="</span>"),d!==this.defAttr&&(-1===d?c+='<span class="reverse-video terminal-cursor">':(c+='<span class="',f=511&d,g=d>>9&511,m=d>>18,1&m&&(e.brokenBold||(c+=" xterm-bold "),8>g&&(g+=8)),2&m&&(c+=" xterm-underline "),4&m&&(c+=" xterm-blink "),8&m&&(f=d>>9&511,g=511&d,1&m&&8>g&&(g+=8)),16&m&&(c+=" xterm-hidden "),256!==f&&(c+=" xterm-bg-color-"+f+" "),257!==g&&(c+=" xterm-color-"+g+" "),c+='">'))),l){case"&":c+="&amp;";break;case"<":c+="&lt;";break;case">":c+="&gt;";break;default:" ">=l?c+="&nbsp;":(o(l)&&a++,c+=l)}p=d}p!==this.defAttr&&(c+="</span>"),this.children[s].innerHTML=c}v&&v.appendChild(this.element),b.focus(),this.emit("refresh",{element:this.element,start:t,end:n})},e.prototype._cursorBlink=function(){e.focus===this&&(this.cursorState^=1,this.refresh(this.y,this.y))},e.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.y,this.y))},e.prototype.startBlink=function(){if(this.cursorBlink){var t=this;this._blinker=function(){t._cursorBlink()},this._blink=C(this._blinker,500)}},e.prototype.refreshBlink=function(){this.cursorBlink&&(clearInterval(this._blink),this._blink=C(this._blinker,500))},e.prototype.scroll=function(){var t;++this.ybase===this.scrollback&&(this.ybase=this.ybase/2|0,this.lines=this.lines.slice(-(this.ybase+this.rows)+1)),this.ydisp=this.ybase,t=this.ybase+this.rows-1,t-=this.rows-1-this.scrollBottom,t===this.lines.length?this.lines.push(this.blankLine()):this.lines.splice(t,0,this.blankLine()),0!==this.scrollTop&&(0!==this.ybase&&(this.ybase--,this.ydisp=this.ybase),this.lines.splice(this.ybase+this.scrollTop,1)),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},e.prototype.scrollDisp=function(t){this.ydisp+=t,this.ydisp>this.ybase?this.ydisp=this.ybase:this.ydisp<0&&(this.ydisp=0),this.refresh(0,this.rows-1)},e.prototype.write=function(t){var n,r,s,a=t.length,i=0;for(this.refreshStart=this.y,this.refreshEnd=this.y,this.ybase!==this.ydisp&&(this.ydisp=this.ybase,this.maxRange());a>i;i++)switch(s=t[i],this.state){case d:switch(s){case"":this.bell();break;case"\n":case"":case"\f":this.convertEol&&(this.x=0),this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll());break;case"\r":this.x=0;break;case"\b":this.x>0&&this.x--;break;case"	":this.x=this.nextStop();break;case"":this.setgLevel(1);break;case"":this.setgLevel(0);break;case"":this.state=p;break;default:if(s>=" "&&(this.charset&&this.charset[s]&&(s=this.charset[s]),this.x>=this.cols&&(this.x=0,this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll())),this.lines[this.y+this.ybase][this.x]=[this.curAttr,s],this.x++,this.updateRange(this.y),o(s))){if(n=this.y+this.ybase,this.cols<2||this.x>=this.cols){this.lines[n][this.x-1]=[this.curAttr," "];break}this.lines[n][this.x]=[this.curAttr," "],this.x++}}break;case p:switch(s){case"[":this.params=[],this.currentParam=0,this.state=f;break;case"]":this.params=[],this.currentParam=0,this.state=g;break;case"P":this.params=[],this.currentParam=0,this.state=y;break;case"_":this.state=v;break;case"^":this.state=v;break;case"c":this.reset();break;case"E":this.x=0;case"D":this.index();break;case"M":this.reverseIndex();break;case"%":this.setgLevel(0),this.setgCharset(0,e.charsets.US),this.state=d,i++;break;case"(":case")":case"*":case"+":case"-":case".":switch(s){case"(":this.gcharset=0;break;case")":this.gcharset=1;break;case"*":this.gcharset=2;break;case"+":this.gcharset=3;break;case"-":this.gcharset=1;break;case".":this.gcharset=2}this.state=m;break;case"/":this.gcharset=3,this.state=m,i--;break;case"N":break;case"O":break;case"n":this.setgLevel(2);break;case"o":this.setgLevel(3);break;case"|":this.setgLevel(3);break;case"}":this.setgLevel(2);break;case"~":this.setgLevel(1);break;case"7":this.saveCursor(),this.state=d;break;case"8":this.restoreCursor(),this.state=d;break;case"#":this.state=d,i++;break;case"H":this.tabSet();break;case"=":this.log("Serial port requested application keypad."),this.applicationKeypad=!0,this.state=d;break;case">":this.log("Switching back to normal keypad."),this.applicationKeypad=!1,this.state=d;break;default:this.state=d,this.error("Unknown ESC control: %s.",s)}break;case m:switch(s){case"0":r=e.charsets.SCLD;break;case"A":r=e.charsets.UK;break;case"B":r=e.charsets.US;break;case"4":r=e.charsets.Dutch;break;case"C":case"5":r=e.charsets.Finnish;break;case"R":r=e.charsets.French;break;case"Q":r=e.charsets.FrenchCanadian;break;case"K":r=e.charsets.German;break;case"Y":r=e.charsets.Italian;break;case"E":case"6":r=e.charsets.NorwegianDanish;break;case"Z":r=e.charsets.Spanish;break;case"H":case"7":r=e.charsets.Swedish;break;case"=":r=e.charsets.Swiss;break;case"/":r=e.charsets.ISOLatin,i++;break;default:r=e.charsets.US}this.setgCharset(this.gcharset,r),this.gcharset=null,this.state=d;break;case g:if(""===s||""===s){switch(""===s&&i++,this.params.push(this.currentParam),this.params[0]){case 0:case 1:case 2:this.params[1]&&(this.title=this.params[1],this.handleTitle(this.title));break;case 3:break;case 4:case 5:break;case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:break;case 46:break;case 50:break;case 51:break;case 52:break;case 104:case 105:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:}this.params=[],this.currentParam=0,this.state=d}else this.params.length?this.currentParam+=s:s>="0"&&"9">=s?this.currentParam=10*this.currentParam+s.charCodeAt(0)-48:";"===s&&(this.params.push(this.currentParam),this.currentParam="");break;case f:if("?"===s||">"===s||"!"===s){this.prefix=s;break}if(s>="0"&&"9">=s){this.currentParam=10*this.currentParam+s.charCodeAt(0)-48;break}if("$"===s||'"'===s||" "===s||"'"===s){this.postfix=s;break}if(this.params.push(this.currentParam),this.currentParam=0,";"===s)break;switch(this.state=d,s){case"A":this.cursorUp(this.params);break;case"B":this.cursorDown(this.params);break;case"C":this.cursorForward(this.params);break;case"D":this.cursorBackward(this.params);break;case"H":this.cursorPos(this.params);break;case"J":this.eraseInDisplay(this.params);break;case"K":this.eraseInLine(this.params);break;case"m":this.prefix||this.charAttributes(this.params);break;case"n":this.prefix||this.deviceStatus(this.params);break;case"@":this.insertChars(this.params);break;case"E":this.cursorNextLine(this.params);break;case"F":this.cursorPrecedingLine(this.params);break;case"G":this.cursorCharAbsolute(this.params);break;case"L":this.insertLines(this.params);break;case"M":this.deleteLines(this.params);break;case"P":this.deleteChars(this.params);break;case"X":this.eraseChars(this.params);break;case"`":this.charPosAbsolute(this.params);break;case"a":this.HPositionRelative(this.params);break;case"c":this.sendDeviceAttributes(this.params);break;case"d":this.linePosAbsolute(this.params);break;case"e":this.VPositionRelative(this.params);break;case"f":this.HVPosition(this.params);break;case"h":this.setMode(this.params);break;case"l":this.resetMode(this.params);break;case"r":this.setScrollRegion(this.params);break;case"s":this.saveCursor(this.params);break;case"u":this.restoreCursor(this.params);break;case"I":this.cursorForwardTab(this.params);break;case"S":this.scrollUp(this.params);break;case"T":this.params.length<2&&!this.prefix&&this.scrollDown(this.params);break;case"Z":this.cursorBackwardTab(this.params);break;case"b":this.repeatPrecedingCharacter(this.params);break;case"g":this.tabClear(this.params);break;case"p":switch(this.prefix){case"!":this.softReset(this.params)}break;default:this.error("Unknown CSI code: %s.",s)}this.prefix="",this.postfix="";break;case y:if(""===s||""===s){switch(""===s&&i++,this.prefix){case"":break;case"$q":var c=this.currentParam,l=!1;switch(c){case'"q':c='0"q';break;case'"p':c='61"p';break;case"r":c=""+(this.scrollTop+1)+";"+(this.scrollBottom+1)+"r";break;case"m":c="0m";break;default:this.error("Unknown DCS Pt: %s.",c),c=""}this.send("P"+ +l+"$r"+c+"\\");break;case"+p":break;case"+q":var c=this.currentParam,l=!1;this.send("P"+ +l+"+r"+c+"\\");break;default:this.error("Unknown DCS prefix: %s.",this.prefix)}this.currentParam=0,this.prefix="",this.state=d}else this.currentParam?this.currentParam+=s:this.prefix||"$"===s||"+"===s?2===this.prefix.length?this.currentParam=s:this.prefix+=s:this.currentParam=s;break;case v:(""===s||""===s)&&(""===s&&i++,this.state=d)}this.updateRange(this.y),this.refresh(this.refreshStart,this.refreshEnd)},e.prototype.writeln=function(t){this.write(t+"\r\n")},e.prototype.keyDown=function(t){var e;switch(t.keyCode){case 8:if(t.shiftKey){e="\b";break}e="";break;case 9:if(t.shiftKey){e="[Z";break}e="	",this.cancel(t,!0);break;case 13:e="\r",this.cancel(t,!0);break;case 27:e="",this.cancel(t,!0);break;case 37:if(this.applicationCursor){e="OD";break}e="[D";break;case 39:if(this.applicationCursor){e="OC";break}e="[C";break;case 38:if(this.applicationCursor){e="OA";break}if(t.ctrlKey)return this.scrollDisp(-1),this.cancel(t);e="[A";break;case 40:if(this.applicationCursor){e="OB";break}if(t.ctrlKey)return this.scrollDisp(1),this.cancel(t);e="[B";break;case 46:e="[3~";break;case 45:e="[2~";break;case 36:if(this.applicationKeypad){e="OH";break}e="OH";break;case 35:if(this.applicationKeypad){e="OF";break}e="OF";break;case 33:if(t.shiftKey)return this.scrollDisp(-(this.rows-1)),this.cancel(t);e="[5~";break;case 34:if(t.shiftKey)return this.scrollDisp(this.rows-1),this.cancel(t);e="[6~";break;case 112:e="OP";break;case 113:e="OQ";break;case 114:e="OR";break;case 115:e="OS";break;case 116:e="[15~";break;case 117:e="[17~";break;case 118:e="[18~";break;case 119:e="[19~";break;case 120:e="[20~";break;case 121:e="[21~";break;case 122:e="[23~";break;case 123:e="[24~";break;default:t.ctrlKey?t.keyCode>=65&&t.keyCode<=90?e=b.fromCharCode(t.keyCode-64):32===t.keyCode?e=b.fromCharCode(0):t.keyCode>=51&&t.keyCode<=55?e=b.fromCharCode(t.keyCode-51+27):56===t.keyCode?e=b.fromCharCode(127):219===t.keyCode?e=b.fromCharCode(27):221===t.keyCode&&(e=b.fromCharCode(29)):(!this.isMac&&t.altKey||this.isMac&&t.metaKey)&&(t.keyCode>=65&&t.keyCode<=90?e=""+b.fromCharCode(t.keyCode+32):192===t.keyCode?e="`":t.keyCode>=48&&t.keyCode<=57&&(e=""+(t.keyCode-48)))}return!e||this.isMac&&t.metaKey?!0:(this.emit("keydown",t),this.emit("key",e,t),this.showCursor(),this.handler(e),this.cancel(t))},e.prototype.setgLevel=function(t){this.glevel=t,this.charset=this.charsets[t]},e.prototype.setgCharset=function(t,e){this.charsets[t]=e,this.glevel===t&&(this.charset=e)},e.prototype.keyPress=function(t){var e;if(this.cancel(t),t.charCode)e=t.charCode;else if(null==t.which)e=t.keyCode;else{if(0===t.which||0===t.charCode)return!1;e=t.which}return!e||t.ctrlKey||t.altKey||t.metaKey?!1:(e=b.fromCharCode(e),this.emit("keypress",e,t),this.emit("key",e,t),this.showCursor(),this.handler(e),!1)},e.prototype.send=function(t){var e=this;this.queue||k(function(){e.handler(e.queue),e.queue=""},1),this.queue+=t},e.prototype.bell=function(){if(this.visualBell){var t=this;this.element.style.borderColor="white",k(function(){t.element.style.borderColor=""},10),this.popOnBell&&this.focus()}},e.prototype.log=function(){if(this.debug&&this.context.console&&this.context.console.log){var t=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,t)}},e.prototype.error=function(){if(this.debug&&this.context.console&&this.context.console.error){var t=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,t)}},e.prototype.resize=function(t,e){var n,r,s,a;if(1>t&&(t=1),1>e&&(e=1),s=this.cols,t>s)for(a=[this.defAttr," "],r=this.lines.length;r--;)for(;this.lines[r].length<t;)this.lines[r].push(a);else if(s>t)for(r=this.lines.length;r--;)for(;this.lines[r].length>t;)this.lines[r].pop();if(this.setupStops(s),this.cols=t,s=this.rows,e>s)for(n=this.element;s++<e;)this.lines.length<e+this.ybase&&this.lines.push(this.blankLine()),this.children.length<e&&this.insertRow();else if(s>e)for(;s-->e;)if(this.lines.length>e+this.ybase&&this.lines.pop(),this.children.length>e){if(n=this.children.pop(),!n)continue;n.parentNode.removeChild(n)}this.rows=e,this.y>=e&&(this.y=e-1),this.x>=t&&(this.x=t-1),this.scrollTop=0,this.scrollBottom=e-1,this.refresh(0,this.rows-1),this.normal=null,this.emit("resize",{terminal:this,cols:t,rows:e})},e.prototype.fit=function(){var t,e,n=this.element.parentElement,r=this.rowContainer.firstElementChild,s=parseInt(n.offsetHeight/r.offsetHeight);r.style.display="inline",t=parseInt(r.offsetWidth/this.cols),r.style.display="",e=parseInt(n.offsetWidth/t),this.resize(e,s)},e.prototype.updateRange=function(t){t<this.refreshStart&&(this.refreshStart=t),t>this.refreshEnd&&(this.refreshEnd=t)},e.prototype.maxRange=function(){this.refreshStart=0,this.refreshEnd=this.rows-1},e.prototype.setupStops=function(t){for(null!=t?this.tabs[t]||(t=this.prevStop(t)):(this.tabs={},t=0);t<this.cols;t+=8)this.tabs[t]=!0},e.prototype.prevStop=function(t){for(null==t&&(t=this.x);!this.tabs[--t]&&t>0;);return t>=this.cols?this.cols-1:0>t?0:t},e.prototype.nextStop=function(t){for(null==t&&(t=this.x);!this.tabs[++t]&&t<this.cols;);return t>=this.cols?this.cols-1:0>t?0:t},e.prototype.eraseRight=function(t,e){for(var n=this.lines[this.ybase+e],r=[this.eraseAttr()," "];t<this.cols;t++)n[t]=r;this.updateRange(e)},e.prototype.eraseLeft=function(t,e){var n=this.lines[this.ybase+e],r=[this.eraseAttr()," "];for(t++;t--;)n[t]=r;this.updateRange(e)},e.prototype.eraseLine=function(t){this.eraseRight(0,t)},e.prototype.blankLine=function(t){for(var e=t?this.eraseAttr():this.defAttr,n=[e," "],r=[],s=0;s<this.cols;s++)r[s]=n;return r},e.prototype.ch=function(t){return t?[this.eraseAttr()," "]:[this.defAttr," "]},e.prototype.is=function(t){var e=this.termName;return 0===(e+"").indexOf(t)},e.prototype.handler=function(t){this.emit("data",t)},e.prototype.handleTitle=function(t){this.emit("title",t)},e.prototype.index=function(){this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll()),this.state=d},e.prototype.reverseIndex=function(){var t;this.y--,this.y<this.scrollTop&&(this.y++,this.lines.splice(this.y+this.ybase,0,this.blankLine(!0)),t=this.rows-1-this.scrollBottom,this.lines.splice(this.rows-1+this.ybase-t+1,1),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)),this.state=d},e.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols,e.call(this,this.options),this.refresh(0,this.rows-1)},e.prototype.tabSet=function(){this.tabs[this.x]=!0,this.state=d},e.prototype.cursorUp=function(t){var e=t[0];1>e&&(e=1),this.y-=e,this.y<0&&(this.y=0)},e.prototype.cursorDown=function(t){var e=t[0];1>e&&(e=1),this.y+=e,this.y>=this.rows&&(this.y=this.rows-1)},e.prototype.cursorForward=function(t){var e=t[0];1>e&&(e=1),this.x+=e,this.x>=this.cols&&(this.x=this.cols-1)},e.prototype.cursorBackward=function(t){var e=t[0];1>e&&(e=1),this.x-=e,this.x<0&&(this.x=0)},e.prototype.cursorPos=function(t){var e,n;e=t[0]-1,n=t.length>=2?t[1]-1:0,0>e?e=0:e>=this.rows&&(e=this.rows-1),0>n?n=0:n>=this.cols&&(n=this.cols-1),this.x=n,this.y=e},e.prototype.eraseInDisplay=function(t){var e;switch(t[0]){case 0:for(this.eraseRight(this.x,this.y),e=this.y+1;e<this.rows;e++)this.eraseLine(e);break;case 1:for(this.eraseLeft(this.x,this.y),e=this.y;e--;)this.eraseLine(e);break;case 2:for(e=this.rows;e--;)this.eraseLine(e);break;case 3:}},e.prototype.eraseInLine=function(t){switch(t[0]){case 0:this.eraseRight(this.x,this.y);break;case 1:this.eraseLeft(this.x,this.y);break;case 2:this.eraseLine(this.y)}},e.prototype.charAttributes=function(t){if(1===t.length&&0===t[0])return void(this.curAttr=this.defAttr);for(var e,n=t.length,r=0,s=this.curAttr>>18,a=this.curAttr>>9&511,i=511&this.curAttr;n>r;r++)e=t[r],e>=30&&37>=e?a=e-30:e>=40&&47>=e?i=e-40:e>=90&&97>=e?(e+=8,a=e-90):e>=100&&107>=e?(e+=8,i=e-100):0===e?(s=this.defAttr>>18,a=this.defAttr>>9&511,i=511&this.defAttr):1===e?s|=1:4===e?s|=2:5===e?s|=4:7===e?s|=8:8===e?s|=16:22===e?s&=-2:24===e?s&=-3:25===e?s&=-5:27===e?s&=-9:28===e?s&=-17:39===e?a=this.defAttr>>9&511:49===e?i=511&this.defAttr:38===e?2===t[r+1]?(r+=2,a=c(255&t[r],255&t[r+1],255&t[r+2]),-1===a&&(a=511),r+=2):5===t[r+1]&&(r+=2,e=255&t[r],a=e):48===e?2===t[r+1]?(r+=2,i=c(255&t[r],255&t[r+1],255&t[r+2]),-1===i&&(i=511),r+=2):5===t[r+1]&&(r+=2,e=255&t[r],i=e):100===e?(a=this.defAttr>>9&511,i=511&this.defAttr):this.error("Unknown SGR attribute: %d.",e);this.curAttr=s<<18|a<<9|i},e.prototype.deviceStatus=function(t){if(this.prefix){if("?"===this.prefix)switch(t[0]){case 6:this.send("[?"+(this.y+1)+";"+(this.x+1)+"R");break;case 15:break;case 25:break;case 26:break;case 53:}}else switch(t[0]){case 5:this.send("[0n");break;case 6:this.send("["+(this.y+1)+";"+(this.x+1)+"R")}},e.prototype.insertChars=function(t){var e,n,r,s;for(e=t[0],1>e&&(e=1),n=this.y+this.ybase,r=this.x,s=[this.eraseAttr()," "];e--&&r<this.cols;)this.lines[n].splice(r++,0,s),this.lines[n].pop()},e.prototype.cursorNextLine=function(t){var e=t[0];1>e&&(e=1),this.y+=e,this.y>=this.rows&&(this.y=this.rows-1),this.x=0},e.prototype.cursorPrecedingLine=function(t){var e=t[0];1>e&&(e=1),this.y-=e,this.y<0&&(this.y=0),this.x=0},e.prototype.cursorCharAbsolute=function(t){var e=t[0];1>e&&(e=1),this.x=e-1},e.prototype.insertLines=function(t){var e,n,r;for(e=t[0],1>e&&(e=1),n=this.y+this.ybase,r=this.rows-1-this.scrollBottom,r=this.rows-1+this.ybase-r+1;e--;)this.lines.splice(n,0,this.blankLine(!0)),this.lines.splice(r,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},e.prototype.deleteLines=function(t){var e,n,r;for(e=t[0],1>e&&(e=1),n=this.y+this.ybase,r=this.rows-1-this.scrollBottom,r=this.rows-1+this.ybase-r;e--;)this.lines.splice(r+1,0,this.blankLine(!0)),this.lines.splice(n,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},e.prototype.deleteChars=function(t){var e,n,r;for(e=t[0],1>e&&(e=1),n=this.y+this.ybase,r=[this.eraseAttr()," "];e--;)this.lines[n].splice(this.x,1),this.lines[n].push(r)},e.prototype.eraseChars=function(t){var e,n,r,s;for(e=t[0],1>e&&(e=1),n=this.y+this.ybase,r=this.x,s=[this.eraseAttr()," "];e--&&r<this.cols;)this.lines[n][r++]=s},e.prototype.charPosAbsolute=function(t){var e=t[0];1>e&&(e=1),this.x=e-1,this.x>=this.cols&&(this.x=this.cols-1)},e.prototype.HPositionRelative=function(t){var e=t[0];1>e&&(e=1),this.x+=e,this.x>=this.cols&&(this.x=this.cols-1)},e.prototype.sendDeviceAttributes=function(t){t[0]>0||(this.prefix?">"===this.prefix&&(this.is("xterm")?this.send("[>0;276;0c"):this.is("rxvt-unicode")?this.send("[>85;95;0c"):this.is("linux")?this.send(t[0]+"c"):this.is("screen")&&this.send("[>83;40003;0c")):this.is("xterm")||this.is("rxvt-unicode")||this.is("screen")?this.send("[?1;2c"):this.is("linux")&&this.send("[?6c"))},e.prototype.linePosAbsolute=function(t){var e=t[0];1>e&&(e=1),this.y=e-1,this.y>=this.rows&&(this.y=this.rows-1)},e.prototype.VPositionRelative=function(t){var e=t[0];1>e&&(e=1),this.y+=e,this.y>=this.rows&&(this.y=this.rows-1)},e.prototype.HVPosition=function(t){t[0]<1&&(t[0]=1),t[1]<1&&(t[1]=1),this.y=t[0]-1,this.y>=this.rows&&(this.y=this.rows-1),this.x=t[1]-1,this.x>=this.cols&&(this.x=this.cols-1)},e.prototype.setMode=function(t){if("object"!=typeof t)if(this.prefix){if("?"===this.prefix)switch(t){case 1:this.applicationCursor=!0;break;case 2:this.setgCharset(0,e.charsets.US),this.setgCharset(1,e.charsets.US),this.setgCharset(2,e.charsets.US),this.setgCharset(3,e.charsets.US);break;case 3:this.savedCols=this.cols,this.resize(132,this.rows);break;case 6:this.originMode=!0;break;case 7:this.wraparoundMode=!0;break;case 12:break;case 66:this.log("Serial port requested application keypad."),this.applicationKeypad=!0;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=9===t,this.vt200Mouse=1e3===t,this.normalMouse=t>1e3,this.mouseEvents=!0,this.element.style.cursor="default",this.log("Binding to mouse events.");break;case 1004:this.sendFocus=!0;break;case 1005:this.utfMouse=!0;break;case 1006:this.sgrMouse=!0;break;case 1015:this.urxvtMouse=!0;break;case 25:this.cursorHidden=!1;break;case 1049:case 47:case 1047:if(!this.normal){var n={lines:this.lines,ybase:this.ybase,ydisp:this.ydisp,x:this.x,y:this.y,scrollTop:this.scrollTop,scrollBottom:this.scrollBottom,tabs:this.tabs};this.reset(),this.normal=n,this.showCursor()}}}else switch(t){case 4:this.insertMode=!0;break;case 20:}else for(var r=t.length,s=0;r>s;s++)this.setMode(t[s])},e.prototype.resetMode=function(t){if("object"!=typeof t)if(this.prefix){if("?"===this.prefix)switch(t){case 1:this.applicationCursor=!1;break;case 3:132===this.cols&&this.savedCols&&this.resize(this.savedCols,this.rows),delete this.savedCols;break;case 6:this.originMode=!1;break;case 7:this.wraparoundMode=!1;break;case 12:break;case 66:this.log("Switching back to normal keypad."),this.applicationKeypad=!1;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=!1,this.vt200Mouse=!1,this.normalMouse=!1,this.mouseEvents=!1,this.element.style.cursor="";break;case 1004:this.sendFocus=!1;break;case 1005:this.utfMouse=!1;break;case 1006:this.sgrMouse=!1;break;case 1015:this.urxvtMouse=!1;break;case 25:this.cursorHidden=!0;break;case 1049:case 47:case 1047:this.normal&&(this.lines=this.normal.lines,this.ybase=this.normal.ybase,this.ydisp=this.normal.ydisp,this.x=this.normal.x,this.y=this.normal.y,this.scrollTop=this.normal.scrollTop,this.scrollBottom=this.normal.scrollBottom,this.tabs=this.normal.tabs,this.normal=null,this.refresh(0,this.rows-1),this.showCursor())}}else switch(t){case 4:this.insertMode=!1;break;case 20:}else for(var e=t.length,n=0;e>n;n++)this.resetMode(t[n])},e.prototype.setScrollRegion=function(t){this.prefix||(this.scrollTop=(t[0]||1)-1,this.scrollBottom=(t[1]||this.rows)-1,this.x=0,this.y=0)},e.prototype.saveCursor=function(){this.savedX=this.x,this.savedY=this.y},e.prototype.restoreCursor=function(){this.x=this.savedX||0,this.y=this.savedY||0},e.prototype.cursorForwardTab=function(t){for(var e=t[0]||1;e--;)this.x=this.nextStop()},e.prototype.scrollUp=function(t){for(var e=t[0]||1;e--;)this.lines.splice(this.ybase+this.scrollTop,1),this.lines.splice(this.ybase+this.scrollBottom,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},e.prototype.scrollDown=function(t){for(var e=t[0]||1;e--;)this.lines.splice(this.ybase+this.scrollBottom,1),this.lines.splice(this.ybase+this.scrollTop,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},e.prototype.initMouseTracking=function(){},e.prototype.resetTitleModes=function(){},e.prototype.cursorBackwardTab=function(t){for(var e=t[0]||1;e--;)this.x=this.prevStop()},e.prototype.repeatPrecedingCharacter=function(t){for(var e=t[0]||1,n=this.lines[this.ybase+this.y],r=n[this.x-1]||[this.defAttr," "];e--;)n[this.x++]=r},e.prototype.tabClear=function(t){var e=t[0];0>=e?delete this.tabs[this.x]:3===e&&(this.tabs={})},e.prototype.mediaCopy=function(){},e.prototype.setResources=function(){},e.prototype.disableModifiers=function(){},e.prototype.setPointerMode=function(){},e.prototype.softReset=function(){this.cursorHidden=!1,this.insertMode=!1,this.originMode=!1,this.wraparoundMode=!1,this.applicationKeypad=!1,this.applicationCursor=!1,this.scrollTop=0,this.scrollBottom=this.rows-1,this.curAttr=this.defAttr,this.x=this.y=0,this.charset=null,this.glevel=0,this.charsets=[null]},e.prototype.requestAnsiMode=function(){},e.prototype.requestPrivateMode=function(){},e.prototype.setConformanceLevel=function(){},e.prototype.loadLEDs=function(){},e.prototype.setCursorStyle=function(){},e.prototype.setCharProtectionAttr=function(){},e.prototype.restorePrivateValues=function(){},e.prototype.setAttrInRectangle=function(t){for(var e,n,r=t[0],s=t[1],a=t[2],i=t[3],o=t[4];a+1>r;r++)for(e=this.lines[this.ybase+r],n=s;i>n;n++)e[n]=[o,e[n][1]];this.updateRange(t[0]),this.updateRange(t[2])},e.prototype.fillRectangle=function(t){for(var e,n,r=t[0],s=t[1],a=t[2],i=t[3],o=t[4];i+1>s;s++)for(e=this.lines[this.ybase+s],n=a;o>n;n++)e[n]=[e[n][0],b.fromCharCode(r)];this.updateRange(t[1]),this.updateRange(t[3])},e.prototype.enableLocatorReporting=function(t){t[0]>0},e.prototype.eraseRectangle=function(t){var e,n,r,s=t[0],a=t[1],i=t[2],o=t[3];for(r=[this.eraseAttr()," "];i+1>s;s++)for(e=this.lines[this.ybase+s],n=a;o>n;n++)e[n]=r;this.updateRange(t[0]),this.updateRange(t[2])},e.prototype.insertColumns=function(){for(var t,e=params[0],n=this.ybase+this.rows,r=[this.eraseAttr()," "];e--;)for(t=this.ybase;n>t;t++)this.lines[t].splice(this.x+1,0,r),this.lines[t].pop();this.maxRange()},e.prototype.deleteColumns=function(){for(var t,e=params[0],n=this.ybase+this.rows,r=[this.eraseAttr()," "];e--;)for(t=this.ybase;n>t;t++)this.lines[t].splice(this.x,1),this.lines[t].push(r);this.maxRange()},e.prototype.copyBuffer=function(t){for(var t=t||this.lines,e=[],n=0;n<t.length;n++){e[n]=[];for(var r=0;r<t[n].length;r++)e[n][r]=[t[n][r][0],t[n][r][1]]}return e},e.prototype.getCopyTextarea=function(){var t=this._copyTextarea,e=this.document;return t||(t=e.createElement("textarea"),t.style.position="absolute",t.style.left="-32000px",t.style.top="-32000px",t.style.width="0px",t.style.height="0px",t.style.opacity="0",t.style.backgroundColor="transparent",t.style.borderStyle="none",t.style.outlineStyle="none",e.getElementsByTagName("body")[0].appendChild(t),this._copyTextarea=t),t
},e.prototype.copyText=function(t){var e=this,n=this.getCopyTextarea();this.emit("copy",t),n.focus(),n.textContent=t,n.value=t,n.setSelectionRange(0,t.length),k(function(){e.element.focus(),e.focus()},1)},e.prototype.keyPrefix=function(t,e){"k"===e||"&"===e?this.destroy():"p"===e||"]"===e?this.emit("request paste"):"c"===e?this.emit("request create"):e>="0"&&"9">=e?(e=+e-1,~e||(e=9),this.emit("request term",e)):"n"===e?this.emit("request term next"):"P"===e?this.emit("request term previous"):":"===e&&this.emit("request command mode")},e.prototype.keySelect=function(t,e){if(this.showCursor(),""===e){var n=this.ydisp+this.y;return void(this.ydisp===this.ybase?(this.y=Math.min(this.y+(this.rows-1)/2|0,this.rows-1),this.refresh(0,this.rows-1)):this.scrollDisp((this.rows-1)/2|0))}if(""===e){var n=this.ydisp+this.y;return void(0===this.ydisp?(this.y=Math.max(this.y-(this.rows-1)/2|0,0),this.refresh(0,this.rows-1)):this.scrollDisp(-(this.rows-1)/2|0))}if(""===e){var n=this.ydisp+this.y;return void this.scrollDisp(this.rows-1)}if(""===e){var n=this.ydisp+this.y;return void this.scrollDisp(-(this.rows-1))}if("k"===e||"[A"===e){var n=this.ydisp+this.y;return this.y--,this.y<0&&(this.y=0,this.scrollDisp(-1)),void this.refresh(this.y,this.y+1)}if("j"===e||"[B"===e){var n=this.ydisp+this.y;return this.y++,this.y>=this.rows&&(this.y=this.rows-1,this.scrollDisp(1)),void this.refresh(this.y-1,this.y)}if("h"===e||"[D"===e){var r=this.x;return this.x--,this.x<0&&(this.x=0),void this.refresh(this.y,this.y)}if("l"===e||"[C"===e){var r=this.x;return this.x++,this.x>=this.cols&&(this.x=this.cols-1),void this.refresh(this.y,this.y)}if("w"===e||"W"===e){for(var s=(this.x,this.y),r=(this.ydisp,this.x),n=this.y,a=this.ydisp,i=!1;;){for(var o=this.lines[a+n];r<this.cols;){if(o[r][1]<=" ")i=!0;else if(i)break;r++}if(r>=this.cols&&(r=this.cols-1),!(r===this.cols-1&&o[r][1]<=" "))break;if(r=0,++n>=this.rows&&(n--,++a>this.ybase)){a=this.ybase,r=this.x;break}}return this.x=r,this.y=n,void this.scrollDisp(-this.ydisp+a)}if("b"===e||"B"===e){for(var s=(this.x,this.y),r=(this.ydisp,this.x),n=this.y,a=this.ydisp;;){for(var o=this.lines[a+n],i=r>0&&o[r][1]>" "&&o[r-1][1]>" ";r>=0;){if(o[r][1]<=" "){if(i&&r+1<this.cols&&o[r+1][1]>" "){r++;break}i=!0}r--}if(0>r&&(r=0),0!==r||!(o[r][1]<=" ")&&i)break;if(r=this.cols-1,--n<0&&(n++,--a<0)){a++,r=0;break}}return this.x=r,this.y=n,void this.scrollDisp(-this.ydisp+a)}if("e"===e||"E"===e){var r=this.x+1,n=this.y,a=this.ydisp;for(r>=this.cols&&r--;;){for(var o=this.lines[a+n];r<this.cols&&o[r][1]<=" ";)r++;for(;r<this.cols;){if(o[r][1]<=" "&&r-1>=0&&o[r-1][1]>" "){r--;break}r++}if(r>=this.cols&&(r=this.cols-1),!(r===this.cols-1&&o[r][1]<=" "))break;if(r=0,++n>=this.rows&&(n--,++a>this.ybase)){a=this.ybase;break}}return this.x=r,this.y=n,void this.scrollDisp(-this.ydisp+a)}if("^"===e||"0"===e){{this.x}if("0"===e)this.x=0;else if("^"===e){for(var o=this.lines[this.ydisp+this.y],r=0;r<this.cols&&!(o[r][1]>" ");)r++;r>=this.cols&&(r=this.cols-1),this.x=r}return void this.refresh(this.y,this.y)}if("$"===e){for(var o=(this.x,this.lines[this.ydisp+this.y]),r=this.cols-1;r>=0;)r--;return 0>r&&(r=0),this.x=r,void this.refresh(this.y,this.y)}if("g"===e||"G"===e){{var s=(this.x,this.y);this.ydisp}return void("g"===e?(this.x=0,this.y=0,this.scrollDisp(-this.ydisp)):"G"===e&&(this.x=0,this.y=this.rows-1,this.scrollDisp(this.ybase)))}if("H"===e||"M"===e||"L"===e){var s=(this.x,this.y);return"H"===e?(this.x=0,this.y=0):"M"===e?(this.x=0,this.y=this.rows/2|0):"L"===e&&(this.x=0,this.y=this.rows-1),this.refresh(s,s),void this.refresh(this.y,this.y)}if("{"===e||"}"===e){var o,c,s=(this.x,this.y),l=(this.ydisp,!1),h=!1,u=-1,n=this.y+("{"===e?-1:1),a=this.ydisp;for("{"===e?0>n&&(n++,a>0&&a--):"}"===e&&n>=this.rows&&(n--,a<this.ybase&&a++);;){for(o=this.lines[a+n],c=0;c<this.cols;c++){if(o[c][1]>" "){-1===u&&(u=0),l=!0;break}if(c===this.cols-1){-1===u?u=1:0===u?h=!0:1===u&&l&&(h=!0);break}}if(h)break;if("{"===e){if(n--,0>n){if(n++,!(a>0))break;a--}}else if("}"===e&&(n++,n>=this.rows)){if(n--,!(a<this.ybase))break;a++}}return h||("{"===e?(n=0,a=0):"}"===e&&(n=this.rows-1,a=this.ybase)),this.x=0,this.y=n,void this.scrollDisp(-this.ydisp+a)}return!1},e.charsets={},e.charsets.SCLD={"`":"◆",a:"▒",b:"	",c:"\f",d:"\r",e:"\n",f:"°",g:"±",h:"␤",i:"",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},e.charsets.UK=null,e.charsets.US=null,e.charsets.Dutch=null,e.charsets.Finnish=null,e.charsets.French=null,e.charsets.FrenchCanadian=null,e.charsets.German=null,e.charsets.Italian=null,e.charsets.NorwegianDanish=null,e.charsets.Spanish=null,e.charsets.Swedish=null,e.charsets.Swiss=null,e.charsets.ISOLatin=null;var b=this.String,k=this.setTimeout,C=this.setInterval;c._cache={},c.distance=function(t,e,n,r,s,a){return Math.pow(30*(t-r),2)+Math.pow(59*(e-s),2)+Math.pow(11*(n-a),2)},e.EventEmitter=t,e.inherits=a,e.on=n,e.off=r,e.cancel=s,"undefined"!=typeof module?module.exports=e:this.Terminal=e}.call(function(){return this||("undefined"!=typeof window?window:global)}());var app=angular.module("KDockerWeb",["ngAnimate","ui.bootstrap","pascalprecht.translate","LocalStorageModule"]).run(["$rootScope","DockerData","$timeout",function(t,e,n){function r(){s||(s=!0,n(function(){e.save(),s=!1},500))}t.DockerData=e;var s=!1;t.$watch("DockerData.curDockerIdx",r),t.$watchCollection("DockerData.dockerHost",r),t.$watchCollection("DockerData.dockerHosts",r)}]).config(["$httpProvider",function(t){t.interceptors.push(["$q","DockerData","$filter",function(t,e,n){return{responseError:function(r){return e.IndexCtrl&&r.config.errmsg&&e.IndexCtrl.error("["+r.status+"]",n("translate")(r.config.errmsg),r.data?":":"",r.data),t.reject(r)}}}])}]);app.config(["$translateProvider",function(t){t.translations("zh_tw",{OK:"確定",Cancel:"取消",Close:"關閉",Config:"設定",Description:"說明",Status:"狀態",Create:"建立",Action:"操作",Attach:"連線",Start:"啟動",Stop:"停止",Commit:"提交",Remove:"刪除",Reset:"重設","Port Type":"類型","More options":"更多設定","Init start config":"初始化設定參數","Get container list failed":"無法取得 Container 列表","Get image list failed":"無法取得 Image 列表","Create container failed":"無法建立 Container","Start container failed":"無法啟動 Container","Stop container failed":"無法停止 Container","Remove container failed":"無法刪除 Container","Remove image failed":"無法刪除 Image","Disconnect to docker web service.":"與 Docker 連線中斷。","Please check network and refresh page.":"請檢查網路連線並重新整理此網頁。","WebSocket connected: {{url}}":"WebSocket 已連線: {{url}}","WebSocket error: {{url}}":"WebSocket 錯誤: {{url}}","WebSocket closed: {{url}}":"WebSocket 已中斷: {{url}}","Press [SHIFT] to reload container list too.":"按住 [SHIFT] 鍵可同時更新 Container 列表","Press [SHIFT] to reload image list too.":"按住 [SHIFT] 鍵可同時更新 Image 列表","Press [SHIFT] to load full logs.":"按住 [SHIFT] 鍵可載入完整紀錄","Press [SHIFT] to control more start options.":"按住 [SHIFT] 鍵可控制更多啟動參數",Size:"大小","Create Time":"建立時間",Nickname:"名稱","API Version":"API 版本","Tips:":"小提示：","If you connect to docker remote api failed, try the following steps:":"如果您連線到 Docker Remote API 時出現問題，請嘗試下列步驟：","Check docker remote api port is opened, and not blocked by firewall.":"檢查 Docker Remote API 的 Port 是否開啟，並檢查防火牆的設定。","Downgrade the api version, like v1.9, v1.8...etc, or keep empty.":"試著將 API 的版本降低，例如 v1.9 或是 v1.8 ，也可以試著留空。","Click Reset button and try again.":"點擊重設按鈕，再設定一次。",Readonly:"唯讀",Pause:"暫停",Resume:"繼續",Copy:"複製",Export:"匯出",Import:"匯入","Export Config":"匯出設定資料","Import Config":"匯入設定資料","ERROR:":"錯誤:","Parse JSON ERROR":"解析 JSON 錯誤","Empty input data":"沒有輸入資料","Please copy the following data to your clipboard by [Ctrl] + 'C' or [CMD] + 'C'":"請將下面的資料複製到剪貼簿，可用快速鍵 [Ctrl] + 'C' 或是 [CMD] + 'C'","Please paste the config data to the following input box":"請將匯出的設定資料貼入下面的輸入框","Clean all images without tag.":"清理沒有標籤的 Image"});var e={};angular.forEach(t.translations("zh_tw"),function(t,n){n.match(/{{.*}}/)&&(e[n]=n)}),t.translations("en",e).registerAvailableLanguageKeys(["en","zh_tw"],{en_us:"en",en_uk:"en",zh_cn:"zh_tw",zh_hk:"zh_tw"}).useStorage("localStorageService").determinePreferredLanguage()}]),app.provider("LocationHash",function(){function t(){var t=this;t.autobind={tab:{init:"Containers"}},t.getCurMinObj=function(){var e={},n=!0;return angular.forEach(t.autobind,function(r,s){void 0!==t.autobind[s].value&&(e[s]=t.autobind[s].value,n=!1)}),n?null:e},angular.forEach(t.autobind,function(e,n){void 0!==t[n]&&t[n]!==t.autobind[n].init&&(t.autobind[n].value=t[n]),t.__defineGetter__(n,function(){return void 0===t.autobind[n].value?angular.copy(t.autobind[n].init):t.autobind[n].value}),t.__defineSetter__(n,function(e){t.autobind[n].init===e||void 0===e?delete t.autobind[n].value:t.autobind[n].value=e;var r=t.getCurMinObj();location.hash=r?JSON.stringify(r):""})});try{var e=location.hash.replace(/^#/,""),n=JSON.parse(e);angular.forEach(t.autobind,function(e,r){t[r]=n[r]})}catch(r){}}this.$get=function(){return new t}}),app.factory("DockerData",["localStorageService","DockerHost",function(t,e){function n(){function n(){r.curDockerIdx=-1,r.dockerHosts=[]}var r=this;r.version="0.1.14-2",r.locales=[{id:"en",name:"English"},{id:"zh_tw",name:"正體中文"}],r.load=function(){n();var s=["curDockerIdx"];angular.forEach(s,function(e){var n=t.get(e);void 0!==n&&null!==n&&(r[e]=""+n)});var s=["dockerHosts"];angular.forEach(s,function(n){var s=t.get(n);void 0!==s&&null!==s&&(r[n]=[],angular.forEach(s,function(t){r[n].push(new e(t))}))})},r.load(),r.save=function(){var e="curDockerIdx";r[e]>=0?t.set(e,r[e]):t.remove(e),e="dockerHosts",r[e]&&r[e].length?t.set(e,r[e]):t.remove(e)},r.reset=function(){t.clearAll(),n()},r.getApiUrl=function(t){if(t=t||r,!t.host)return"";var e="http://"+t.host+":"+t.port;return t.apiver&&(e+="/"+t.apiver),e};var s=new e;r.__defineGetter__("dockerHost",function(){var t=this;if(t.curDockerIdx>=0){if(t.dockerHosts[t.curDockerIdx])return t.dockerHosts[t.curDockerIdx];if(t.dockerHosts[0])return t.curDockerIdx=0,t.dockerHosts[t.curDockerIdx]}return s.valid&&(s=new e),s})}return new n}]),app.factory("DockerHost",function(){function t(t){var e=this;return e.val={},t&&e.set(t.val||t),e}return t.prototype.keys=["name","host","port","apiver","containers","images","lastCreateImage"],t.prototype.defValue={name:"",host:"",port:2375,apiver:"",containers:[],images:[],lastCreateImage:""},t.prototype.set=function(t){var e=this;angular.forEach(e.keys,function(n){void 0!==t[n]&&t[n]!==e.defValue[n]&&(e[n]=angular.copy(t[n]))})},t.prototype.export=function(){var t=this,e={};return angular.forEach(t.keys,function(n){e[n]=angular.copy(t[n])}),delete e.containers,delete e.images,e},t.prototype.__defineGetter__("apiurl",function(){var t=this,e="";return t.host&&(e="http://"+t.host,t.port&&(e+=":"+t.port),t.apiver&&(e+="/"+t.apiver)),e}),t.prototype.__defineGetter__("valid",function(){var t=this;return!!t.apiurl}),angular.forEach(t.prototype.keys,function(e){t.prototype.__defineGetter__(e,function(){var t=this;return t.val[e]||t.defValue[e]}),t.prototype.__defineSetter__(e,function(t){var n=this;return void 0===t?void delete n.val[e]:n.val[e]=t})}),t}),app.factory("DockerAction",["$q","$modal","$http","DockerData",function(t,e,n,r){function s(){}var a=new s;return s.prototype.containerStart=function(e,s){var a=t.defer();return n.post(r.dockerHost.apiurl+"/containers/"+e.Id+"/start",s,{errmsg:"Start container failed"}).success(function(){a.resolve()}),a.promise},s.prototype.tagImage=function(e,r,s){var a,i,o=t.defer(),c=s.match(/(.*):(.*?)$/);return c?(a=c[1],i=c[2]||"latest"):(a=s,i="latest"),n.post(e.apiurl+"/images/"+r+"/tag?repo="+a+"&tag="+i,{},{errmsg:"Tag image failed"}).success(function(){e.images.splice(0),o.resolve()}),o.promise},s.prototype.openCreateContainerModal=function(s){var i=t.defer();return e.open({templateUrl:"index/CreateContainerModalContent.html",controller:"CreateContainerModalCtrl",resolve:{image:function(){return s}}}).result.then(function(t){var e="";t.param.Name&&(e="?name="+t.param.Name),n.post(r.dockerHost.apiurl+"/containers/create"+e,t.param,{errmsg:"Create container failed"}).success(function(e){a.containerStart(e,t.startconfig).then(function(){i.resolve()})})}),i.promise},s.prototype.openTagImageModal=function(n){var s=t.defer();return e.open({templateUrl:"index/TagImageModalContent.html",controller:"TagImageModalCtrl",resolve:{image:function(){return n}}}).result.then(function(t){a.tagImage(r.dockerHost,t.query.Id,t.query.repotag).then(function(){s.resolve()})}),s.promise},a}]),app.controller("dockerContainersCtrl",function(){}).directive("dockerContainers",["$filter","$http","DockerData","$modal","$rootScope","DockerAction",function(t,e,n,r,s,a){return{restrict:"E",templateUrl:"directives/dockerContainers.html",link:function(i){var o=i;o.DockerData=n,o.DockerAction=a,n.ContainerCtrl=o,o.tabs=[],o.curtab=null,o.predicate="",o.reverse=!1,o.sortConfig=function(t){o.predicate===t?o.reverse=!o.reverse:(o.predicate=t,o.reverse=!1)},o.reload=function(t){n.dockerHost.valid&&(o.loadingCtrl.container||(o.loadingCtrl.container=!0,o.predicate="",o.reverse=!1,t&&t.shiftKey&&s.$emit("reload-image"),e.get(n.dockerHost.apiurl+"/containers/json?all=1",{errmsg:"Get container list failed"}).success(function(t){angular.forEach(t,function(t){t.name=t.Names.join().substr(1),t.running=!!t.Status.match(/^Up /),t.paused=!!t.Status.match(/Paused/)}),o.DockerData.dockerHost.containers=t||[],o.loadingCtrl.container=!1}).error(function(){o.loadingCtrl.container=!1})))},o.checkReload=function(){o.DockerData.dockerHost.containers.length||o.reload()},o.attach=function(t,e){if(o.curtab=e,e){for(var n=0;n<o.tabs.length;n++){var r=o.tabs[n];if(e.Id===r.Id)return}o.tabs.unshift(e),e.terminal||(e.terminal=new Terminal,e.terminal.on("key",function(t,e){if(e){if(e.ctrlKey)switch(e.keyCode){case 67:case 86:break;default:e.preventDefault()}if(e.shiftKey)switch(e.keyCode){case 45:break;default:e.preventDefault()}}}),o.setupWebsocket(t,e))}},o.stop=function(t){e.post(n.dockerHost.apiurl+"/containers/"+t.Id+"/stop",{},{errmsg:"Stop container failed"}).success(function(){o.reload()})},o.remove=function(t){e.delete(n.dockerHost.apiurl+"/containers/"+t.Id+"?v=1&force=1",{errmsg:"Remove container failed"}).success(function(){o.reload()})},o.pause=function(t){e.post(n.dockerHost.apiurl+"/containers/"+t.Id+"/pause",{},{errmsg:"Pause container failed"}).success(function(){o.reload()})},o.unpause=function(t){e.post(n.dockerHost.apiurl+"/containers/"+t.Id+"/unpause",{},{errmsg:"Unpause container failed"}).success(function(){o.reload()})},o.commit=function(t,r,a){e.post(n.dockerHost.apiurl+"/commit?container="+t.Id+"&repo="+r.repo+"&tag="+r.tag,a,{errmsg:"Commit container failed"}).success(function(){s.$emit("reload-image")})},o.setupWebsocket=function(e,r){return document.getElementById(r.Id+"_terminal")?(r.terminal.open(document.getElementById(r.Id+"_terminal")),e.shiftKey,r.websocket=new WebSocket(n.dockerHost.apiurl.replace(/^http/,"ws")+"/containers/"+r.Id+"/attach/ws?stderr=1&stdout=1&stream=1&stdin=1"+(e.shiftKey?"&logs=1":"&logs=0")),r.websocket.onopen=function(e){r.terminal.write(t("translate")("WebSocket connected: {{url}}",{url:e.target.URL}))},r.websocket.onerror=function(e){r.terminal.write(t("translate")("WebSocket error: {{url}}",{url:e.target.URL}))},r.websocket.onclose=function(e){r.terminal.write(t("translate")("WebSocket closed: {{url}}",{url:e.target.URL})),r.terminal.destroy(),delete r.terminal,delete r.websocket,o.closeContainer(r)},r.websocket.onmessage=function(t){r.terminal.write(t.data)},void r.terminal.on("data",function(t){r.websocket.send(t)})):void setTimeout(function(){o.setupWebsocket(e,r)},500)},o.openCreateContainerModal=function(){a.openCreateContainerModal().then(function(){o.reload()})},o.openStartContainerModal=function(t,e){t.shiftKey?r.open({templateUrl:"index/StartContainerModalContent.html",controller:"StartContainerModalCtrl",resolve:{container:function(){return e}}}).result.then(function(t){a.containerStart(t.container,t.param)}):a.containerStart(e,{})},o.openInspectContainerModal=function(t){e.get(n.dockerHost.apiurl+"/containers/"+t.Id+"/json",{},{errmsg:"Inspect container failed"}).success(function(t){r.open({templateUrl:"index/InspectContainerModalContent.html",controller:"InspectContainerModalCtrl",size:"lg",resolve:{inspect:function(){return t}}})})},o.openCommitContainerModal=function(t){r.open({templateUrl:"index/CommitContainerModalContent.html",controller:"CommitContainerModalCtrl",resolve:{container:function(){return t}}}).result.then(function(e){o.commit(t,e.query,e.param)})},o.closeContainer=function(t){for(var e=0;e<o.tabs.length;e++)if(t.Id===o.tabs[e].Id){var n=o.tabs.splice(e,1)[0];return n.websocket&&n.websocket.close(),void(o.curtab=null)}},s.$on("reload-container",function(){o.reload()}),o.$watch("DockerData.IndexCtrl.tab",function(t){"Containers"==t&&o.checkReload()}),o.$watch("DockerData.curDockerIdx",function(){o.checkReload()}),o.reload()}}}]),app.controller("dockerHostConfigCtrl",function(){}).directive("dockerHostConfig",["$rootScope","$modal","DockerData","DockerHost",function(t,e,n,r){return{restrict:"E",templateUrl:"directives/dockerHostConfig.html",link:function(s){var a=s;a.dockerHost=new r(n.dockerHost),a.DockerData=n,n.ConfigCtrl=a,a.addDocker=function(){var t=new r(a.dockerHost);t.containers=[],t.images=[],n.dockerHosts.unshift(t),n.curDockerIdx="0"},a.delDocker=function(t){n.dockerHosts.splice(t,1)},a.setDocker=function(t){n.curDockerIdx=""+t,a.dockerHost=new r(n.dockerHost)},a.moveUp=function(t){var e=n.dockerHosts;e.splice(t-1,0,e.splice(t,1)[0])},a.moveDown=function(t){var e=n.dockerHosts;e.splice(t+1,0,e.splice(t,1)[0])},a.reset=function(){n.reset()},a.openExportConfigModal=function(){e.open({templateUrl:"index/ExportConfigModalContent.html",controller:"ExportConfigModalCtrl"})},a.openImportConfigModal=function(){e.open({templateUrl:"index/ImportConfigModalContent.html",controller:"ImportConfigModalCtrl"}).result.then(function(t){n.curDockerIdx=-1,n.dockerHosts.splice(0),angular.forEach(t.config,function(t){var e=new r(t);n.dockerHosts.push(e),n.curDockerIdx="0"})})},t.$on("ConfigCtrl.setDocker",function(t,e){n.curDockerIdx=""+e})}}}]),app.controller("dockerImagesCtrl",function(){}).directive("dockerImages",["DockerData","$http","$rootScope","$modal","$filter","DockerAction","$q",function(t,e,n,r,s,a,i){return{restrict:"E",templateUrl:"directives/dockerImages.html",link:function(o){var c=o;c.DockerData=t,c.DockerAction=a,t.ImageCtrl=c,c.predicate="",c.reverse=!1,c.sortConfig=function(t){c.predicate===t?c.reverse=!c.reverse:(c.predicate=t,c.reverse=!1)},c.reload=function(r){t.dockerHost.valid&&(c.loadingCtrl.image||(c.loadingCtrl.image=!0,c.predicate="",c.reverse=!1,r&&r.shiftKey&&n.$emit("reload-container"),e.get(t.dockerHost.apiurl+"/images/json?all=0",{errmsg:"Get image list failed"}).success(function(t){c.DockerData.dockerHost.images=t,c.loadingCtrl.image=!1}).error(function(){c.loadingCtrl.image=!1})))},c.checkReload=function(){c.DockerData.dockerHost.images.length||c.reload()},c.remove=function(n){e.delete(t.dockerHost.apiurl+"/images/"+n.Id,{errmsg:"Remove image failed"}).success(function(){c.reload()})},c.removeTag=function(n){e.delete(t.dockerHost.apiurl+"/images/"+n,{errmsg:"Remove tag failed"}).success(function(){c.reload()})},c.copyImage=function(n,r){r&&r.length&&e.get(t.dockerHost.apiurl+"/images/"+n.Id+"/get",{responseType:"blob",errmsg:"Get image blob failed"}).success(function(t){angular.forEach(r,function(r){e.post(r.apiurl+"/images/load",t,{errmsg:"Upload image blob failed"}).success(function(){var t=[];angular.forEach(n.RepoTags,function(e){t.push(a.tagImage(r,n.Id,e))}),i.all(t).then(function(){alert(s("translate")("Image copyed"))})})})})},c.clean=function(){angular.forEach(t.dockerHost.images,function(t){t&&t.RepoTags&&1===t.RepoTags.length&&"<none>:<none>"===t.RepoTags[0]&&c.remove(t)})},c.openCreateContainerModal=function(t){a.openCreateContainerModal(t)},c.openCopyImageModal=function(t){r.open({templateUrl:"index/CopyImageModalContent.html",controller:"CopyImageModalCtrl"}).result.then(function(e){c.copyImage(t,e.dockers)})},c.openTagImageModal=function(t){a.openTagImageModal(t).then(function(){c.reload()})},n.$on("reload-image",function(){c.reload()}),c.$watch("DockerData.IndexCtrl.tab",function(t){t in{Images:1,Containers:1}&&c.checkReload()}),c.$watch("DockerData.curDockerIdx",function(){c.checkReload()}),c.reload()}}}]),app.directive("selectDocker",["DockerData",function(t){return{restrict:"E",templateUrl:"directives/selectDocker.html",link:function(e){e.DockerData=t}}}]),app.controller("CommitContainerModalCtrl",["$scope","$modalInstance","DockerData","container",function(t,e,n,r){t.DockerData=n,t.container=r,t.query={repo:"",tag:""},t.param={},t.ok=function(){e.close({query:t.query,param:t.param})},t.cancel=function(){e.dismiss("cancel")}}]),app.controller("CreateContainerModalCtrl",["$scope","$modalInstance","DockerData","image",function(t,e,n,r){t.DockerData=n,t.param={Name:"",Cmd:"",Hostname:"",User:"",Memory:0,MemorySwap:0,AttachStdin:!0,AttachStdout:!0,AttachStderr:!0,Tty:!0,OpenStdin:!0,StdinOnce:!1,Volumes:{},Links:[],ExposedPorts:{}},t.startconfig={Binds:[],PortBindings:{},PublishAllPorts:!0,Privileged:!1,VolumesFrom:[],Links:[]},t.extra={Volumes:"",Ports:""},t.moreOptions=!1,t.form={ExposedPorts:"",VolumesFrom:[{}],Links:[{}]},r&&r.Id?t.param.Image=r.Id:n.dockerHost.lastCreateImage?t.param.Image=n.dockerHost.lastCreateImage:n.dockerHost.images[0]&&(t.param.Image=n.dockerHost.images[0].Id),t.ok=function(){n.dockerHost.lastCreateImage=t.param.Image,n.save(),angular.forEach(t.form.ExposedPorts.split(/\s+/),function(e){e=(e||"").trim(),e&&(t.param.ExposedPorts[e]={})}),t.startconfig.Links=[],angular.forEach(t.form.Links,function(e){e.from=e.from||"",e.from&&(e.from=e.from.replace(/^\//,""),e.to=e.to||e.from,e.to=e.to.replace(/^\//,""),t.startconfig.Links.push(e.from+":"+e.to))}),angular.forEach(t.extra.Volumes.split(/\s+/),function(e){e=(e||"").trim(),e&&(e.match(/:/)?(t.param.Volumes[e.split(/:/)[1].trim()]={},t.startconfig.Binds.push(e)):t.param.Volumes[e]={})}),t.startconfig.VolumesFrom=[],angular.forEach(t.form.VolumesFrom,function(e){e.from=e.from||"",e.from&&(e.ro&&(e.from+=":ro"),t.startconfig.VolumesFrom.push(e.from))}),angular.forEach(t.extra.Ports.split(/\s+/),function(e){if(e=(e||"").trim())if(e.match(/:/)){var n=e.split(/:/)[0].trim(),r=e.split(/:/)[1].trim();t.startconfig.PortBindings[r]=t.startconfig.PortBindings[r]||[],t.startconfig.PortBindings[r].push({HostPort:n})}else t.startconfig.PortBindings[e]=[{}]}),e.close({param:t.param,startconfig:t.startconfig})},t.cancel=function(){e.dismiss("cancel")}}]),app.controller("StartContainerModalCtrl",["$scope","$modalInstance","DockerData","container",function(t,e,n,r){t.DockerData=n,t.param={Binds:[""],PortBindings:{},PublishAllPorts:!0,Privileged:!1,VolumesFrom:[],Links:[]},t.PortBindings=[{}],t.form={VolumesFrom:[{}],Links:[{}]},t.ok=function(){var n=[];angular.forEach(t.param.Binds,function(t){t=(t||"").trim(),t&&n.push(t)}),t.param.Binds=n,angular.forEach(t.PortBindings,function(e){if(e.pubports=(e.pubports||"").trim(),e.priport=(e.priport||"").trim(),e.priport&&!e.priport.match(/\D/)){var n=[];e.pubports&&angular.forEach(e.pubports.split(/\D+/),function(t){n.push({HostPort:t})}),n.length||n.push({}),t.param.PortBindings[e.priport+"/"+e.porttype.toLowerCase()]=n}}),t.param.VolumesFrom=[],angular.forEach(t.form.VolumesFrom,function(e){e.from=e.from||"",e.from&&(e.ro&&(e.from+=":ro"),t.param.VolumesFrom.push(e.from))}),t.param.Links=[],angular.forEach(t.form.Links,function(e){e.from=e.from||"",e.from&&(e.from=e.from.replace(/^\//,""),e.to=e.to||e.from,e.to=e.to.replace(/^\//,""),t.param.Links.push(e.from+":"+e.to))}),e.close({container:r,param:t.param})},t.cancel=function(){e.dismiss("cancel")}}]),app.controller("TagImageModalCtrl",["$scope","$modalInstance","DockerData","image",function(t,e,n,r){t.DockerData=n,t.image=r,t.query={Id:r.Id,repotag:""},t.ok=function(){return t.query.repotag?void e.close({query:t.query}):t.cancel()},t.cancel=function(){e.dismiss("cancel")}}]),app.directive("inspectElem",["$compile",function(t){return{restrict:"E",transclude:!0,scope:{attr:"=",name:"="},templateUrl:"index/InspectElem.html",compile:function(e,n,r){var s,a=e.contents().remove();return function(e,n){e.toVal=function(t){return JSON.stringify(t)},angular.isArray(e.attr)?angular.isObject(e.attr[0])?e.childObjArray=e.attr:e.childArray=e.attr:angular.isObject(e.attr)?e.childObject=e.attr:e.value=e.toVal(e.attr),s||(s=t(a,r)),s(e,function(t){n.append(t)})}}}}]).controller("InspectContainerModalCtrl",["$scope","$modalInstance","DockerData","inspect",function(t,e,n,r){t.DockerData=n,t.inspect=r,t.name=r.Name.replace(/^\//,""),t.close=function(){e.close({})}}]),app.controller("CopyImageModalCtrl",["$scope","$modalInstance","DockerData",function(t,e,n){t.DockerData=n,t.checkList=[],angular.forEach(n.dockerHosts,function(e){t.checkList.push({checked:!1,disabled:!(e.apiurl!==n.dockerHost.apiurl)})}),t.clickDocker=function(e){t.checkList[e].disabled||(t.checkList[e].checked=!t.checkList[e].checked)},t.ok=function(){var r=[];angular.forEach(t.checkList,function(t,e){t.checked&&r.push(n.dockerHosts[e])}),e.close({dockers:r})},t.cancel=function(){e.dismiss("cancel")}}]),app.directive("selectOnClick",function(){return{restrict:"A",link:function(t,e){var n;e.on("click",function(){n!==this&&(n=this,this.select())}),e.on("blur",function(){n=null})}}}).controller("ExportConfigModalCtrl",["$scope","$modalInstance","DockerData",function(t,e,n){function r(){var t=[];return angular.forEach(n.dockerHosts,function(e){t.push(e.export())}),JSON.stringify(t)}t.DockerData=n,t.configJson=r(),t.close=function(){e.close({})}}]),app.controller("ImportConfigModalCtrl",["$scope","$modalInstance","$filter","DockerData",function(t,e,n,r){t.DockerData=r,t.data={configJson:"",errMsg:""},t.importConfig=function(){if(!t.data.configJson)return void(t.data.errMsg=n("translate")("Empty input data"));try{t.data.errMsg="";var r=JSON.parse(t.data.configJson);e.close({config:r})}catch(s){t.data.errMsg=""+s.message||n("translate")("Parse JSON ERROR")}},t.cancel=function(){e.dismiss("cancel")}}]),app.filter("humanSize",function(){return function(t){if(0>=t)return 0;var e=["bytes","kB","MB","GB","TB","PB"],n=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,Math.floor(n))).toFixed(2)+" "+e[n]}}).run(["$rootScope",function(t){t.loadingCtrl={}}]).controller("IndexCtrl",["$scope","DockerData","$http","$translate","LocationHash","$filter",function(t,e,n,r,s,a){t.DockerData=e,e.IndexCtrl=t,t.devMode=!1,t.locale=angular.lowercase(r.use()),t.updateLocale=function(){r.use(t.locale)},t.updateLocale(),t.alerts=[],t.log=function(){for(var e=Array.prototype.join.call(arguments," "),n=0;n<t.alerts.length;n++){var r=t.alerts[n];if("info"==r.type&&r.msg==e)return}t.alerts.push({type:"info",msg:e})},t.error=function(){for(var e=Array.prototype.join.call(arguments," "),n=0;n<t.alerts.length;n++){var r=t.alerts[n];if("danger"==r.type&&r.msg==e)return}t.alerts.push({type:"danger",msg:e})},t.connectEvents=function(){XMLHttpRequest&&e.dockerHost.apiurl&&(t.closeConnectEvents(),t.xhr=new XMLHttpRequest,t.xhr.readlen=0,t.xhr.open("GET",e.dockerHost.apiurl+"/events?since="+(Math.floor((new Date).getTime()/1e3)-30)),t.xhr.onprogress=function(){var n=t.xhr.responseText.substr(t.xhr.readlen);if(t.xhr.readlen+=n.length,n){var r=n.match(/{.*?}/g);if(r&&r.length){var s=!1,a=!1;angular.forEach(r,function(t){try{if(!s||!a){var e=JSON.parse(t);s=!!(e.status in{create:1,start:1,stop:1,kill:1,die:1,destroy:1}),a=!!(e.status in{"delete":1})}}catch(n){}}),s&&e.ContainerCtrl&&e.ContainerCtrl.reload(),a&&e.ImageCtrl&&e.ImageCtrl.reload()}}},t.xhr.onerror=function(){t.error(a("translate")("Disconnect to docker web service."),a("translate")("Please check network and refresh page.")),t.$digest()},t.xhr.send(null))},t.closeConnectEvents=function(){t.xhr&&(t.xhr.abort(),delete t.xhr)},t.checkConnectEvents=function(){XMLHttpRequest&&(t.xhr||t.connectEvents())},t.$watch("DockerData.dockerHost.apiurl",function(){t.closeConnectEvents(),t.checkConnectEvents()},!0),t.$watch("tab",function(t){s.tab=t},!0),t.tab=e.dockerHost.valid?s.tab||"Containers":"Config","0"==e.version&&(t.devMode=!0,n.get("package.json?"+(new Date).getTime()).success(function(t){e.version=t.version+"-dev"}))}]),angular.module("KDockerWeb").run(["$templateCache",function(t){t.put("index/dockerContainers.html",'<div>\r\n	<div class="tab-header-bar">\r\n		<span translate>Containers</span>\r\n		<span>in</span>\r\n		<select-docker></select-docker>\r\n		<button ng-click="curtab=null;reload($event)" tooltip="{{\'Press [SHIFT] to reload image list too.\' | translate}}" class="btn btn-default">\r\n			<span ng-class="{spinner: loadingCtrl.container}" class="glyphicon glyphicon-refresh"></span>\r\n		</button>\r\n		<button ng-show="curtab" ng-click="attach($event)" class="btn btn-primary" translate>Back</button>\r\n		<span ng-repeat="c in tabs">\r\n			<button class="btn btn-primary" title="{{c.Id}}" ng-click="attach($event, c)">{{c.name}}</button>\r\n			<button class="btn btn-primary" ng-click="closeContainer(c)">X</button>\r\n		</span>\r\n		<button ng-click="openCreateContainerModal()" class="btn btn-info" translate>Create</button>\r\n	</div>\r\n	<div class="table-responsive" style="position: relative;">\r\n		<table ng-show="!curtab" class="table table-bordered table-striped table-hover table-condensed">\r\n			<thead>\r\n				<tr>\r\n					<th ng-click="sortConfig(\'Id\')">\r\n						<span translate>ID</span>\r\n						<span ng-show="predicate == \'Id\'" ng-class="{\'glyphicon-chevron-down\': reverse, \'glyphicon-chevron-up\': !reverse}" class="glyphicon"></span>\r\n					</th>\r\n					<th ng-click="sortConfig(\'name\')">\r\n						<span translate>Description</span>\r\n						<span ng-show="predicate == \'name\'" ng-class="{\'glyphicon-chevron-down\': reverse, \'glyphicon-chevron-up\': !reverse}" class="glyphicon"></span>\r\n					</th>\r\n					<th ng-click="sortConfig(\'Image\')">\r\n						<span translate>Image</span>\r\n						<span ng-show="predicate == \'Image\'" ng-class="{\'glyphicon-chevron-down\': reverse, \'glyphicon-chevron-up\': !reverse}" class="glyphicon"></span>\r\n					</th>\r\n					<th ng-click="sortConfig(\'Command\')">\r\n						<span translate>Command</span>\r\n						<span ng-show="predicate == \'Command\'" ng-class="{\'glyphicon-chevron-down\': reverse, \'glyphicon-chevron-up\': !reverse}" class="glyphicon"></span>\r\n					</th>\r\n					<th ng-click="sortConfig(\'Ports\')">\r\n						<span translate>Port</span>\r\n						<span ng-show="predicate == \'Ports\'" ng-class="{\'glyphicon-chevron-down\': reverse, \'glyphicon-chevron-up\': !reverse}" class="glyphicon"></span>\r\n					</th>\r\n					<th ng-click="sortConfig(\'Status\')">\r\n						<span translate>Status</span>\r\n						<span ng-show="predicate == \'Status\'" ng-class="{\'glyphicon-chevron-down\': reverse, \'glyphicon-chevron-up\': !reverse}" class="glyphicon"></span>\r\n					</th>\r\n					<th translate>Action</th>\r\n				</tr>\r\n			</thead>\r\n			<tbody>\r\n				<tr ng-repeat="c in DockerData.dockerHost.containers | orderBy:predicate:reverse" ng-class="{danger: !c.running, warning: c.paused}">\r\n					<td>\r\n						<span title="{{c.Id}}" style="white-space: nowrap;">{{c.Id.substr(0, 8)}} ...</span>\r\n					</td>\r\n					<td>\r\n						<span>{{c.name}}</span>\r\n					</td>\r\n					<td>\r\n						<span>{{c.Image}}</span>\r\n					</td>\r\n					<td>\r\n						<span>{{c.Command}}</span>\r\n					</td>\r\n					<td>\r\n						<div ng-repeat="p in c.Ports" style="white-space: nowrap;">\r\n							<a ng-show="p.PublicPort && p.PrivatePort" href="http://{{DockerData.dockerHost.host}}:{{p.PublicPort}}/" target="_blank">\r\n								<span ng-show="p.Type != \'tcp\'">{{p.Type}}: </span>{{p.PublicPort}} -&gt; {{p.PrivatePort}}\r\n							</a>\r\n							<span ng-show="!p.PublicPort || !p.PrivatePort">\r\n								<span ng-show="p.Type != \'tcp\'">{{p.Type}}: </span> -&gt; {{p.PublicPort}}{{p.PrivatePort}}\r\n							</span>\r\n						</div>\r\n					</td>\r\n					<td ng-click="openInspectContainerModal(c)" style="cursor: pointer;">\r\n						<span>{{c.Status}}</span>\r\n					</td>\r\n					<td>\r\n						<button ng-click="attach($event, c)" tooltip="{{\'Press [SHIFT] to load full logs.\' | translate}}" tooltip-placement="left" class="btn btn-primary btn-xs" translate>Attach</button>\r\n						<button ng-click="pause(c)" ng-class="{disabled: !c.running || c.paused}" class="btn btn-success btn-xs" translate>Pause</button>\r\n						<button ng-click="unpause(c)" ng-show="c.running && c.paused" class="btn btn-success btn-xs" translate>Resume</button>\r\n						<button ng-click="openStartContainerModal($event, c)" ng-show="!c.running" tooltip="{{\'Press [SHIFT] to control more start options.\' | translate}}" class="btn btn-info btn-xs" translate>Start</button>\r\n						<button ng-click="stop(c)" ng-show="c.running && !c.paused" class="btn btn-warning btn-xs" translate>Stop</button>\r\n						<button ng-click="openCommitContainerModal(c)" class="btn btn-primary btn-xs" translate>Commit</button>\r\n						<button ng-click="remove(c)" ng-show="!c.paused" class="btn btn-danger btn-xs" translate>Remove</button>\r\n					</td>\r\n				</tr>\r\n			</tbody>\r\n		</table>\r\n		<div ng-show="loading" class="loading-block" style="width: 100%; height: 100%; position: absolute; top: 0; left: 0;"></div>\r\n	</div>\r\n	<div ng-repeat="c in tabs" id="{{c.Id}}_terminal" ng-show="curtab.Id === c.Id"></div>\r\n</div>\r\n'),t.put("index/dockerHostConfig.html",'<div>\r\n	<div class="tab-header-bar">\r\n		<span translate>Config</span>\r\n		<button ng-click="reset()" class="btn btn-primary" translate>Reset</button>\r\n	</div>\r\n	<table class="table table-hover table-condensed" style="float: left; width: auto; min-width: 20em;">\r\n		<tr>\r\n			<th translate>Nickname</th>\r\n			<td style="white-space: nowrap;">\r\n				<input type="text" placeholder="My home server" ng-model="dockerHost.name" class="form-control input-sm"/>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<th><span translate>Hostname</span>*</th>\r\n			<td>\r\n				<input type="text" placeholder="127.0.0.1" ng-model="dockerHost.host" class="form-control input-sm"/>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<th><span translate>Port</span>*</th>\r\n			<td>\r\n				<input type="number" placeholder="2375" ng-model="dockerHost.port" class="form-control input-sm"/>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<th translate>API Version</th>\r\n			<td>\r\n				<input type="text" placeholder="v1.13" ng-model="dockerHost.apiver" class="form-control input-sm"/>\r\n			</td>\r\n		</tr>\r\n		<tr>\r\n			<td ng-show="dockerHost.apiurl" colspan="2">\r\n				<span>{{dockerHost.apiurl}}</span>\r\n				<button ng-click="addDocker()" class="btn btn-info btn-xs" style="float: right;" translate><span class="glyphicon glyphicon-plus"></span></button>\r\n			</td>\r\n		</tr>\r\n	</table>\r\n	<div style="float: left; margin-left: 2em;">\r\n		<div translate>Tips:</div>\r\n		<div translate>If you connect to docker remote api failed, try the following steps:</div>\r\n		<ul>\r\n			<li style="list-style-type: decimal;" translate>Check docker remote api port is opened, and not blocked by firewall.</li>\r\n			<li style="list-style-type: decimal;" translate>Downgrade the api version, like v1.9, v1.8...etc, or keep empty.</li>\r\n			<li style="list-style-type: decimal;" translate>Click Reset button and try again.</li>\r\n		</ul>\r\n	</div>\r\n	<table ng-show="DockerData.dockerHosts.length" class="table table-bordered table-striped table-hover table-condensed" style="float: left; clear: both; margin-top: 2em; width: auto;">\r\n		<thead>\r\n			<tr>\r\n				<th translate>Nickname</th>\r\n				<th translate>API Url</th>\r\n				<th translate>Containers</th>\r\n				<th translate>Images</th>\r\n				<th translate>Action</th>\r\n			</tr>\r\n		</thead>\r\n		<tbody>\r\n			<tr ng-repeat="dockerHost in DockerData.dockerHosts" ng-class="{info: (DockerData.curDockerIdx == $index)}">\r\n				<td ng-click="setDocker($index)" style="cursor: pointer;">{{dockerHost.name}}</td>\r\n				<td ng-click="setDocker($index)" style="cursor: pointer;">{{dockerHost.apiurl}}</td>\r\n				<td ng-click="setDocker($index)" style="cursor: pointer;">{{dockerHost.containers.length}}</td>\r\n				<td ng-click="setDocker($index)" style="cursor: pointer;">{{dockerHost.images.length}}</td>\r\n				<td>\r\n					<button ng-click="delDocker($index)" class="btn btn-danger btn-xs" translate><span class="glyphicon glyphicon-remove"></span></button>\r\n					<button ng-click="moveUp($index)" ng-show="$index > 0" class="btn btn-info btn-xs" translate><span class="glyphicon glyphicon-arrow-up"></span></button>\r\n					<button ng-click="moveDown($index)" ng-show="!$last" class="btn btn-info btn-xs" translate><span class="glyphicon glyphicon-arrow-down"></span></button>\r\n				</td>\r\n			</tr>\r\n		</tbody>\r\n	</table>\r\n	<div style="clear: both;">\r\n		<button ng-click="openExportConfigModal()" class="btn btn-info" tooltip="{{\'Export Config\' | translate}}" translate>Export</button>\r\n		<button ng-click="openImportConfigModal()" class="btn btn-info" tooltip="{{\'Import Config\' | translate}}" translate>Import</button>\r\n	</div>\r\n</div>\r\n'),t.put("index/dockerImages.html",'<div>\r\n	<div class="tab-header-bar">\r\n		<span translate>Images</span>\r\n		<span>in</span>\r\n		<select-docker></select-docker>\r\n		<button ng-click="reload($event)" tooltip="{{\'Press [SHIFT] to reload container list too.\' | translate}}" class="btn btn-default">\r\n			<span ng-class="{spinner: loadingCtrl.image}" class="glyphicon glyphicon-refresh"></span>\r\n		</button>\r\n		<button ng-click="clean()" tooltip="{{\'Clean all images without tag.\' | translate}}" class="btn btn-danger">\r\n			<span class="glyphicon glyphicon-trash"></span>\r\n		</button>\r\n	</div>\r\n	<div style="position: relative;">\r\n		<table class="table table-bordered table-striped table-hover table-condensed">\r\n			<thead>\r\n				<tr>\r\n					<th ng-click="sortConfig(\'Id\')">\r\n						<span translate>ID</span>\r\n						<span ng-show="predicate == \'Id\'" ng-class="{\'glyphicon-chevron-down\': reverse, \'glyphicon-chevron-up\': !reverse}" class="glyphicon"></span>\r\n					</th>\r\n					<th ng-click="sortConfig(\'RepoTags\')">\r\n						<span translate>Tags</span>\r\n						<span ng-show="predicate == \'RepoTags\'" ng-class="{\'glyphicon-chevron-down\': reverse, \'glyphicon-chevron-up\': !reverse}" class="glyphicon"></span>\r\n					</th>\r\n					<th ng-click="sortConfig(\'VirtualSize\')">\r\n						<span translate>Size</span>\r\n						<span ng-show="predicate == \'VirtualSize\'" ng-class="{\'glyphicon-chevron-down\': reverse, \'glyphicon-chevron-up\': !reverse}" class="glyphicon"></span>\r\n					</th>\r\n					<th ng-click="sortConfig(\'Created\')" translate translate>\r\n						<span translate>Create Time</span>\r\n						<span ng-show="predicate == \'Created\'" ng-class="{\'glyphicon-chevron-down\': reverse, \'glyphicon-chevron-up\': !reverse}" class="glyphicon"></span>\r\n					</th>\r\n					<th translate>Action</th>\r\n				</tr>\r\n			</thead>\r\n			<tbody>\r\n				<tr ng-repeat="img in DockerData.dockerHost.images | orderBy:predicate:reverse">\r\n					<td>\r\n						<span title="{{img.Id}}" style="white-space: nowrap;">{{img.Id.substr(0, 8)}} ...</span>\r\n					</td>\r\n					<td>\r\n						<div ng-repeat="tag in img.RepoTags">\r\n							<span>{{tag}}</span>\r\n							<button ng-click="removeTag(tag)" ng-show="img.RepoTags.length > 1" class="btn btn-danger btn-xs" translate>X</button>\r\n						</div>\r\n					</td>\r\n					<td>\r\n						<span>{{img.VirtualSize | humanSize}}</span>\r\n					</td>\r\n					<td>\r\n						<span>{{img.Created * 1000 | date:\'yyyy-MM-dd HH:mm\'}}</span>\r\n					</td>\r\n					<td>\r\n						<button ng-click="openCreateContainerModal(img)" class="btn btn-primary btn-xs" translate>Create</button>\r\n						<button ng-click="openTagImageModal(img)" class="btn btn-success btn-xs" translate>Tag</button>\r\n						<button ng-click="openCopyImageModal(img)" ng-show="DockerData.dockerHosts.length > 1" class="btn btn-info btn-xs" translate>Copy</button>\r\n						<button ng-click="remove(img)" class="btn btn-danger btn-xs" translate>Remove</button>\r\n					</td>\r\n				</tr>\r\n			</tbody>\r\n		</table>\r\n		<div ng-show="loading" class="loading-block" style="width: 100%; height: 100%; position: absolute; top: 0; left: 0;"></div>\r\n	</div>\r\n</div>\r\n'),t.put("index/selectDocker.html",'<span>\r\n	<span ng-show="!DockerData.dockerHosts.length">{{DockerData.dockerHost.name || DockerData.dockerHost.apiurl}}</span>\r\n	<select ng-show="DockerData.dockerHosts.length"\r\n		ng-options="idx as (dockerHost.name || dockerHost.apiurl) for (idx, dockerHost) in DockerData.dockerHosts"\r\n		ng-model="DockerData.curDockerIdx">\r\n	</select>\r\n</span>\r\n'),t.put("index/CommitContainerModalContent.html",'<style type="text/css">\r\n\r\n.CommitContainerModal th,\r\n.CommitContainerModal td {\r\n	padding: 0.2em 0.5em;\r\n}\r\n\r\n.CommitContainerModal input[type="text"] {\r\n	text-indent: 0.3em;\r\n}\r\n\r\n</style>\r\n\r\n<div class="CommitContainerModal">\r\n	<div class="modal-header">\r\n		<h3 translate>Commit container to image</h3>\r\n	</div>\r\n	<div class="modal-body">\r\n		<table>\r\n			<tr>\r\n				<th translate>Name</th>\r\n				<td>{{container.Names[0]}}</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>Image</th>\r\n				<td>{{container.Image}}</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>Repo</th>\r\n				<td>\r\n					<input type="text" ng-model="query.repo"/>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>Tag</th>\r\n				<td>\r\n					<input type="text" ng-model="query.tag"/>\r\n				</td>\r\n			</tr>\r\n		</table>\r\n	</div>\r\n	<div class="modal-footer">\r\n		<button class="btn btn-primary" ng-click="ok()" translate>OK</button>\r\n		<button class="btn btn-warning" ng-click="cancel()" translate>Cancel</button>\r\n	</div>\r\n</div>\r\n'),t.put("index/CopyImageModalContent.html",'<div class="CopyImageModal">\r\n	<div class="modal-header">\r\n		<h3 translate>Select Docker Hosts</h3>\r\n	</div>\r\n	<div class="modal-body">\r\n		<div class="table-responsive">\r\n			<table class="table table-bordered table-striped table-hover table-condensed" style="">\r\n				<thead>\r\n					<tr>\r\n						<th></th>\r\n						<th translate>Nickname</th>\r\n						<th translate>API Url</th>\r\n					</tr>\r\n				</thead>\r\n				<tbody>\r\n					<tr ng-repeat="dockerHost in DockerData.dockerHosts" ng-click="clickDocker($index)" ng-class="{warning: (dockerHost.apiurl == DockerData.dockerHost.apiurl)}" style="cursor: pointer;">\r\n						<td><input type="checkbox" ng-model="checkList[$index].checked" ng-disabled="checkList[$index].disabled"/></td>\r\n						<td>{{dockerHost.name}}</td>\r\n						<td>{{dockerHost.apiurl}}</td>\r\n					</tr>\r\n				</tbody>\r\n			</table>\r\n		</div>\r\n	</div>\r\n	<div class="modal-footer">\r\n		<button class="btn btn-primary" ng-click="ok()" translate>OK</button>\r\n		<button class="btn btn-warning" ng-click="cancel()" translate>Cancel</button>\r\n	</div>\r\n</div>\r\n'),t.put("index/CreateContainerModalContent.html",'<style type="text/css">\r\n\r\n.CreateContainerModal th,\r\n.CreateContainerModal td {\r\n	padding: 0.2em 0.5em;\r\n}\r\n\r\n.CreateContainerModal input[type="text"] {\r\n	text-indent: 0.3em;\r\n}\r\n\r\n</style>\r\n\r\n<div class="CreateContainerModal">\r\n	<div class="modal-header">\r\n		<h3 translate>Create a container</h3>\r\n		<span style="position: absolute; top: 1em; right: 1em;">\r\n			<label for="moreOptions" translate>More options</label>\r\n			<input type="checkbox" ng-model="moreOptions" id="moreOptions"/>\r\n		</span>\r\n	</div>\r\n	<div class="modal-body">\r\n		<table>\r\n			<tr>\r\n				<th translate>Image</th>\r\n				<td>\r\n					<select ng-options="img.Id as img.RepoTags[0] for img in DockerData.dockerHost.images" ng-model="param.Image"></select>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>Name</th>\r\n				<td>\r\n					<input type="text" ng-model="param.Name" placeholder="Container name"/>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th>Cmd</th>\r\n				<td>\r\n					<input type="text" ng-model="param.Cmd" placeholder="/bin/bash"/>\r\n					<button ng-click="param.Cmd = \'/bin/bash\'" class="btn btn-info btn-xs">\r\n						<span class="glyphicon glyphicon-arrow-left"></span>\r\n					</button>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th>ExposedPorts</th>\r\n				<td>\r\n					<input type="text" ng-model="form.ExposedPorts" placeholder="22 80 8080 53/udp"/>\r\n				</td>\r\n			</tr>\r\n			<tr ng-repeat="key in [\'Hostname\', \'User\']" ng-show="moreOptions">\r\n				<th>{{key}}</th>\r\n				<td>\r\n					<input type="text" ng-model="param[key]"/>\r\n				</td>\r\n			</tr>\r\n			<tr ng-repeat="key in [\'Memory\', \'MemorySwap\']" ng-show="moreOptions">\r\n				<th>{{key}}</th>\r\n				<td>\r\n					<input type="number" ng-model="param[key]"/>\r\n				</td>\r\n			</tr>\r\n			<tr ng-repeat="key in [\'AttachStdin\', \'AttachStdout\', \'AttachStderr\', \'Tty\', \'OpenStdin\', \'StdinOnce\']" ng-show="moreOptions">\r\n				<th>{{key}}</th>\r\n				<td>\r\n					<input type="checkbox" ng-model="param[key]"/>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<td colspan="2">\r\n					<div style="margin-top: 1em;" translate>Init start config</div>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th>Volumes</th>\r\n				<td>\r\n					<input type="text" ng-model="extra.Volumes" placeholder="/host/path:/container/path" style="width: 20em;"/>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th style="vertical-align: top;">VolumesFrom</th>\r\n				<td>\r\n					<div ng-repeat="vol in form.VolumesFrom track by $index">\r\n						<select ng-options="container.Names[0] as container.Names[0] for container in DockerData.dockerHost.containers" ng-model="vol.from">\r\n							<option value="">-- Container --</option>\r\n						</select>\r\n						<label tooltip="{{\'Readonly\' | translate}}" style="margin-left: 1em; margin-right: 1em;">\r\n							<input type="checkbox" ng-model="vol.ro"/>\r\n							<span>RO</span>\r\n						</label>\r\n						<span ng-click="form.VolumesFrom.push({})" ng-show="$index === 0" class="glyphicon glyphicon-plus"></span>\r\n						<span ng-click="form.VolumesFrom.splice($index, 1)" ng-show="$index > 0" class="glyphicon glyphicon-remove"></span>\r\n					</div>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th style="vertical-align: top;">Links</th>\r\n				<td>\r\n					<div ng-repeat="link in form.Links track by $index">\r\n						<select ng-options="container.Names[0] as container.Names[0] for container in DockerData.dockerHost.containers | filter:{running: true}" ng-model="link.from">\r\n							<option value="">-- Container --</option>\r\n						</select>\r\n						<span>:</span>\r\n						<input type="text" ng-model="link.to" placeholder="{{link.from}}"/>\r\n						<span ng-click="form.Links.push({})" ng-show="$index === 0" class="glyphicon glyphicon-plus"></span>\r\n						<span ng-click="form.Links.splice($index, 1)" ng-show="$index > 0" class="glyphicon glyphicon-remove"></span>\r\n					</div>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th>Ports</th>\r\n				<td>\r\n					<input type="text" ng-model="extra.Ports" placeholder="49080:80 hostPort:containerPort" style="width: 20em;"/>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th>PublishAllPorts</th>\r\n				<td>\r\n					<input type="checkbox" ng-model="startconfig.PublishAllPorts"/>\r\n				</td>\r\n			</tr>\r\n			<tr ng-show="moreOptions">\r\n				<th>Privileged</th>\r\n				<td>\r\n					<input type="checkbox" ng-model="startconfig.Privileged"/>\r\n				</td>\r\n			</tr>\r\n		</table>\r\n	</div>\r\n	<div class="modal-footer">\r\n		<button class="btn btn-primary" ng-click="ok()" translate>OK</button>\r\n		<button class="btn btn-warning" ng-click="cancel()" translate>Cancel</button>\r\n	</div>\r\n</div>\r\n'),t.put("index/ExportConfigModalContent.html",'\r\n<div class="ExportConfigModal">\r\n	<div class="modal-header">\r\n		<h3 translate>Export Config</h3>\r\n	</div>\r\n	<div class="modal-body" style="overflow: auto; padding-left: 2em;">\r\n		<div translate>Please copy the following data to your clipboard by [Ctrl] + \'C\' or [CMD] + \'C\'</div>\r\n		<input type="text" ng-model="configJson" select-on-click style="width: 100%;"/>\r\n	</div>\r\n	<div class="modal-footer">\r\n		<button class="btn btn-primary" ng-click="close()" translate>Close</button>\r\n	</div>\r\n</div>\r\n'),t.put("index/ImportConfigModalContent.html",'\r\n<div class="ImportConfigModal">\r\n	<div class="modal-header">\r\n		<h3 translate>Import Config</h3>\r\n	</div>\r\n	<div class="modal-body" style="overflow: auto; padding-left: 2em;">\r\n		<div translate>Please paste the config data to the following input box</div>\r\n		<input type="text" ng-model="data.configJson" style="width: 100%;"/>\r\n		<div ng-show="data.errMsg" class="text-danger">\r\n			<span translate>ERROR:</span>\r\n			<span>{{data.errMsg}}</span>\r\n		</div>\r\n	</div>\r\n	<div class="modal-footer">\r\n		<button class="btn btn-danger" ng-click="importConfig()" translate>Import</button>\r\n		<button class="btn btn-primary" ng-click="cancel()" translate>Cancel</button>\r\n	</div>\r\n</div>\r\n'),t.put("index/InspectContainerModalContent.html",'<style type="text/css">\r\n\r\n.InspectContainerModal .inspect-elem-child-noname {\r\n	list-style-type: none;\r\n}\r\n\r\n.InspectContainerModal .inspect-elem-ul,\r\n.InspectContainerModal .inspect-elem-li {\r\n	padding-left: 1em;\r\n	text-indent: 0;\r\n}\r\n\r\n</style>\r\n\r\n<div class="InspectContainerModal">\r\n	<div class="modal-header">\r\n		<h3>Container: {{name}}</h3>\r\n	</div>\r\n	<div class="modal-body" style="overflow: auto; padding-left: 2em;">\r\n		<inspect-elem attr="inspect"></inspect-elem>\r\n	</div>\r\n	<div class="modal-footer">\r\n		<button class="btn btn-primary" ng-click="close()" translate>Close</button>\r\n	</div>\r\n</div>\r\n'),t.put("index/InspectElem.html",'<div>\r\n	<span ng-show="name">{{name}}</span>\r\n	<span ng-show="(value || name) && childArray">[]</span>\r\n	<span ng-show="(value || name) && childObjArray">[]</span>\r\n	<span ng-show="(value || name) && childObject">{}</span>\r\n	<span ng-show="name">:</span>\r\n	<span ng-show="value !== undefined">{{value}}</span>\r\n</div>\r\n<ul ng-class="{\'inspect-elem-child-noname\': name && childObjArray}" class="inspect-elem-ul">\r\n	<li ng-repeat="child in childArray" class="inspect-elem-li">\r\n		<span>{{toVal(child)}}</span>\r\n	</li>\r\n	<li ng-repeat="child in childObjArray" class="inspect-elem-li">\r\n		<inspect-elem attr="child"></inspect-elem>\r\n	</li>\r\n	<li ng-repeat="(name,child) in childObject" class="inspect-elem-li">\r\n		<inspect-elem name="name" attr="child"></inspect-elem>\r\n	</li>\r\n</ul>\r\n'),t.put("index/StartContainerModalContent.html",'<style type="text/css">\r\n\r\n.StartContainerModal th,\r\n.StartContainerModal td {\r\n	padding: 0.2em 0.5em;\r\n}\r\n\r\n.StartContainerModal th {\r\n	white-space: nowrap;\r\n}\r\n\r\n.StartContainerModal input[type=text] {\r\n	text-indent: 0.2em;\r\n}\r\n\r\n</style>\r\n\r\n<div class="StartContainerModal">\r\n	<div class="modal-header">\r\n		<h3 translate>Start a container</h3>\r\n	</div>\r\n	<div class="modal-body">\r\n		<table>\r\n			<tr>\r\n				<th style="vertical-align: top;">\r\n					<div>Binds</div>\r\n					<div><button ng-click="param.Binds.push(\'\')" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-plus"></span></button></div>\r\n				</th>\r\n				<td>\r\n					<table style="width: 100%;">\r\n						<tr>\r\n							<th colspan="2">Host Path : Container Path</th>\r\n						</tr>\r\n						<tr ng-repeat="bind in param.Binds track by $index">\r\n							<td>\r\n								<input type="text" ng-model="param.Binds[$index]" placeholder="/tmp:/tmp" style="width: 100%;"/>\r\n							</td>\r\n							<td style="width: 1em;">\r\n								<button ng-click="param.Binds.splice($index, 1)" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-remove"></span></button>\r\n							</td>\r\n						</tr>\r\n					</table>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th style="vertical-align: top;">VolumesFrom</th>\r\n				<td>\r\n					<div ng-repeat="vol in form.VolumesFrom track by $index">\r\n						<select ng-options="container.Names[0] as container.Names[0] for container in DockerData.dockerHost.containers" ng-model="vol.from">\r\n							<option value="">-- Container --</option>\r\n						</select>\r\n						<label tooltip="{{\'Readonly\' | translate}}" style="margin-left: 1em; margin-right: 1em;">\r\n							<input type="checkbox" ng-model="vol.ro"/>\r\n							<span>RO</span>\r\n						</label>\r\n						<span ng-click="form.VolumesFrom.push({})" ng-show="$index === 0" class="glyphicon glyphicon-plus"></span>\r\n						<span ng-click="form.VolumesFrom.splice($index, 1)" ng-show="$index > 0" class="glyphicon glyphicon-remove"></span>\r\n					</div>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th style="vertical-align: top;">Links</th>\r\n				<td>\r\n					<div ng-repeat="link in form.Links track by $index">\r\n						<select ng-options="container.Names[0] as container.Names[0] for container in DockerData.dockerHost.containers | filter:{running: true}" ng-model="link.from">\r\n							<option value="">-- Container --</option>\r\n						</select>\r\n						<span>:</span>\r\n						<input type="text" ng-model="link.to" placeholder="{{link.from}}"/>\r\n						<span ng-click="form.Links.push({})" ng-show="$index === 0" class="glyphicon glyphicon-plus"></span>\r\n						<span ng-click="form.Links.splice($index, 1)" ng-show="$index > 0" class="glyphicon glyphicon-remove"></span>\r\n					</div>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th style="vertical-align: top;">\r\n					<div>PortBindings</div>\r\n					<div><button ng-click="PortBindings.push({})" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-plus"></span></button></div>\r\n				</th>\r\n				<td>\r\n					<table>\r\n						<tr>\r\n							<th translate>Port Type</th>\r\n							<th translate>Public Port</th>\r\n							<th>*<span translate>Private Port</span></th>\r\n						</tr>\r\n						<tr ng-repeat="pb in PortBindings">\r\n							<td>\r\n								<select ng-options="tp for tp in [\'TCP\', \'UDP\']" ng-model="pb.porttype" ng-init="pb.porttype=\'TCP\'"></select>\r\n							</td>\r\n							<td>\r\n								<input type="text" ng-model="pb.pubports" placeholder="80 8080"/>\r\n							</td>\r\n							<td>\r\n								<input type="text" ng-model="pb.priport" placeholder="80"/>\r\n							</td>\r\n							<td>\r\n								<button ng-click="PortBindings.splice($index, 1)" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-remove"></span></button>\r\n							</td>\r\n						</tr>\r\n					</table>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th>PublishAllPorts</th>\r\n				<td><input type="checkbox" ng-model="param.PublishAllPorts"/></td>\r\n			</tr>\r\n			<tr>\r\n				<th><span title="Give extended privileges to this container">Privileged</span></th>\r\n				<td><input type="checkbox" ng-model="param.Privileged"/></td>\r\n			</tr>\r\n		</table>\r\n	</div>\r\n	<div class="modal-footer">\r\n		<button class="btn btn-primary" ng-click="ok()" translate>OK</button>\r\n		<button class="btn btn-warning" ng-click="cancel()" translate>Cancel</button>\r\n	</div>\r\n</div>\r\n'),t.put("index/TagImageModalContent.html",'<style type="text/css">\r\n\r\n.TagImageModal th,\r\n.TagImageModal td {\r\n	padding: 0.2em 0.5em;\r\n}\r\n\r\n.TagImageModal input[type="text"] {\r\n	text-indent: 0.3em;\r\n	width: 100%;\r\n}\r\n\r\n.TagImageModal th {\r\n	white-space: nowrap;\r\n}\r\n\r\n</style>\r\n\r\n<div class="TagImageModal">\r\n	<div class="modal-header">\r\n		<h3 translate>Create new tag of the image</h3>\r\n	</div>\r\n	<div class="modal-body">\r\n		<table>\r\n			<tr>\r\n				<th translate>ID</th>\r\n				<td>{{image.Id}}</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>Tags</th>\r\n				<td>\r\n					<div ng-repeat="tag in image.RepoTags">{{tag}}</div>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>Size</th>\r\n				<td>{{image.VirtualSize | humanSize}}</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>Create Time</th>\r\n				<td>{{image.Created * 1000 | date:\'yyyy-MM-dd HH:mm\'}}</td>\r\n			</tr>\r\n			<tr>\r\n				<th translate>Add Tag</th>\r\n				<td>\r\n					<input type="text" ng-model="query.repotag"/>\r\n				</td>\r\n			</tr>\r\n		</table>\r\n	</div>\r\n	<div class="modal-footer">\r\n		<button class="btn btn-primary" ng-click="ok()" translate>OK</button>\r\n		<button class="btn btn-warning" ng-click="cancel()" translate>Cancel</button>\r\n	</div>\r\n</div>\r\n')
}]);